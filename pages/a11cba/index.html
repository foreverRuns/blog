<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>本站部署 | RunSS11&#39;s blog</title>
    <meta name="generator" content="VuePress 1.9.9">
    <link rel="icon" href="/img/icon.ico">
    <meta name="description" content="个人技术博客,学习笔记,技术文档。html,css,JavaScript,TypeScript,Vue3,NodeJS,Git,Github,C,Openssl,...">
    <meta name="keywords" content="个人技术博客,学习笔记,技术文档。html,css,JavaScript,TypeScript,Vue3,NodeJS,Git,Github,C,Openssl">
    <meta name="theme-color" content="#11a8cd">
    
    <link rel="preload" href="/assets/css/0.styles.a650c097.css" as="style"><link rel="preload" href="/assets/js/app.01422d5c.js" as="script"><link rel="preload" href="/assets/js/3.ea26aac2.js" as="script"><link rel="preload" href="/assets/js/5.5f790703.js" as="script"><link rel="preload" href="/assets/js/177.42363978.js" as="script"><link rel="prefetch" href="/assets/js/1.bd186302.js"><link rel="prefetch" href="/assets/js/10.40d0b5c6.js"><link rel="prefetch" href="/assets/js/100.ab05a043.js"><link rel="prefetch" href="/assets/js/101.885ca87c.js"><link rel="prefetch" href="/assets/js/102.ef5d4254.js"><link rel="prefetch" href="/assets/js/103.52c8b4e2.js"><link rel="prefetch" href="/assets/js/104.87a9a842.js"><link rel="prefetch" href="/assets/js/105.9e67d102.js"><link rel="prefetch" href="/assets/js/106.94e541aa.js"><link rel="prefetch" href="/assets/js/107.915ca718.js"><link rel="prefetch" href="/assets/js/108.6bc97d33.js"><link rel="prefetch" href="/assets/js/109.bdd5adea.js"><link rel="prefetch" href="/assets/js/11.94e48de5.js"><link rel="prefetch" href="/assets/js/110.29ca365e.js"><link rel="prefetch" href="/assets/js/111.103e05d9.js"><link rel="prefetch" href="/assets/js/112.b5d10a3b.js"><link rel="prefetch" href="/assets/js/113.b454bc1f.js"><link rel="prefetch" href="/assets/js/114.7e4b7b1a.js"><link rel="prefetch" href="/assets/js/115.05e7a82a.js"><link rel="prefetch" href="/assets/js/116.f9b09d71.js"><link rel="prefetch" href="/assets/js/117.2833d430.js"><link rel="prefetch" href="/assets/js/118.160a1590.js"><link rel="prefetch" href="/assets/js/119.1aa324fe.js"><link rel="prefetch" href="/assets/js/12.b78b440b.js"><link rel="prefetch" href="/assets/js/120.dbc4db22.js"><link rel="prefetch" href="/assets/js/121.5106d736.js"><link rel="prefetch" href="/assets/js/122.3e3dff82.js"><link rel="prefetch" href="/assets/js/123.4ba9da17.js"><link rel="prefetch" href="/assets/js/124.5b9be66e.js"><link rel="prefetch" href="/assets/js/125.f228c8b1.js"><link rel="prefetch" href="/assets/js/126.b14aa754.js"><link rel="prefetch" href="/assets/js/127.289e6043.js"><link rel="prefetch" href="/assets/js/128.00ce83fc.js"><link rel="prefetch" href="/assets/js/129.7c8778f4.js"><link rel="prefetch" href="/assets/js/13.38227629.js"><link rel="prefetch" href="/assets/js/130.3a315d75.js"><link rel="prefetch" href="/assets/js/131.4da7a048.js"><link rel="prefetch" href="/assets/js/132.7dd0503b.js"><link rel="prefetch" href="/assets/js/133.9aecc043.js"><link rel="prefetch" href="/assets/js/134.5eeab0e0.js"><link rel="prefetch" href="/assets/js/135.932df661.js"><link rel="prefetch" href="/assets/js/136.d3b41a2b.js"><link rel="prefetch" href="/assets/js/137.df4ba7bf.js"><link rel="prefetch" href="/assets/js/138.ba49035b.js"><link rel="prefetch" href="/assets/js/139.15524eda.js"><link rel="prefetch" href="/assets/js/14.f7340fa4.js"><link rel="prefetch" href="/assets/js/140.552ec19b.js"><link rel="prefetch" href="/assets/js/141.20688b6c.js"><link rel="prefetch" href="/assets/js/142.f57fbe41.js"><link rel="prefetch" href="/assets/js/143.7081856f.js"><link rel="prefetch" href="/assets/js/144.071db39b.js"><link rel="prefetch" href="/assets/js/145.13ef8950.js"><link rel="prefetch" href="/assets/js/146.957f515e.js"><link rel="prefetch" href="/assets/js/147.7a2aa18d.js"><link rel="prefetch" href="/assets/js/148.e0546b48.js"><link rel="prefetch" href="/assets/js/149.d7d026a3.js"><link rel="prefetch" href="/assets/js/15.98a79725.js"><link rel="prefetch" href="/assets/js/150.eee62544.js"><link rel="prefetch" href="/assets/js/151.903ffd6e.js"><link rel="prefetch" href="/assets/js/152.c65389df.js"><link rel="prefetch" href="/assets/js/153.f32be0e3.js"><link rel="prefetch" href="/assets/js/154.073d1db5.js"><link rel="prefetch" href="/assets/js/155.15cab31b.js"><link rel="prefetch" href="/assets/js/156.308ce76d.js"><link rel="prefetch" href="/assets/js/157.d5603b7d.js"><link rel="prefetch" href="/assets/js/158.a06ddfc5.js"><link rel="prefetch" href="/assets/js/159.6a9e427f.js"><link rel="prefetch" href="/assets/js/16.b2a70f19.js"><link rel="prefetch" href="/assets/js/160.9cb97333.js"><link rel="prefetch" href="/assets/js/161.a93cb432.js"><link rel="prefetch" href="/assets/js/162.732abbcf.js"><link rel="prefetch" href="/assets/js/163.63f183db.js"><link rel="prefetch" href="/assets/js/164.ae7fc911.js"><link rel="prefetch" href="/assets/js/165.f2d9d3db.js"><link rel="prefetch" href="/assets/js/166.2e18092c.js"><link rel="prefetch" href="/assets/js/167.c107a79e.js"><link rel="prefetch" href="/assets/js/168.4c50daf4.js"><link rel="prefetch" href="/assets/js/169.e9f23044.js"><link rel="prefetch" href="/assets/js/17.84f5e7f8.js"><link rel="prefetch" href="/assets/js/170.b7d25a0e.js"><link rel="prefetch" href="/assets/js/171.40a7f024.js"><link rel="prefetch" href="/assets/js/172.1b3a2cb1.js"><link rel="prefetch" href="/assets/js/173.c449c3e6.js"><link rel="prefetch" href="/assets/js/174.0cd907f4.js"><link rel="prefetch" href="/assets/js/175.6e3cb5f6.js"><link rel="prefetch" href="/assets/js/176.8f3f4bbb.js"><link rel="prefetch" href="/assets/js/178.6d5b2941.js"><link rel="prefetch" href="/assets/js/179.47899818.js"><link rel="prefetch" href="/assets/js/18.bd441168.js"><link rel="prefetch" href="/assets/js/180.b50a34db.js"><link rel="prefetch" href="/assets/js/181.574f0127.js"><link rel="prefetch" href="/assets/js/182.3fc46434.js"><link rel="prefetch" href="/assets/js/183.e970c6cf.js"><link rel="prefetch" href="/assets/js/184.bb7cfa5a.js"><link rel="prefetch" href="/assets/js/185.b2943125.js"><link rel="prefetch" href="/assets/js/186.170fa505.js"><link rel="prefetch" href="/assets/js/187.e971ae73.js"><link rel="prefetch" href="/assets/js/188.52dcb98b.js"><link rel="prefetch" href="/assets/js/189.f874d46d.js"><link rel="prefetch" href="/assets/js/19.102145db.js"><link rel="prefetch" href="/assets/js/20.52754c17.js"><link rel="prefetch" href="/assets/js/21.9bbe89ff.js"><link rel="prefetch" href="/assets/js/22.86ffc9d7.js"><link rel="prefetch" href="/assets/js/23.7dcfad16.js"><link rel="prefetch" href="/assets/js/24.ef116000.js"><link rel="prefetch" href="/assets/js/25.b250c11c.js"><link rel="prefetch" href="/assets/js/26.15dc369a.js"><link rel="prefetch" href="/assets/js/27.200af985.js"><link rel="prefetch" href="/assets/js/28.57c1e189.js"><link rel="prefetch" href="/assets/js/29.ef4c6288.js"><link rel="prefetch" href="/assets/js/30.1a5e5fb9.js"><link rel="prefetch" href="/assets/js/31.975ea791.js"><link rel="prefetch" href="/assets/js/32.5518ead5.js"><link rel="prefetch" href="/assets/js/33.c11fde9b.js"><link rel="prefetch" href="/assets/js/34.29092b96.js"><link rel="prefetch" href="/assets/js/35.3b3b08f3.js"><link rel="prefetch" href="/assets/js/36.d1c35c73.js"><link rel="prefetch" href="/assets/js/37.209b47a0.js"><link rel="prefetch" href="/assets/js/38.59fc6394.js"><link rel="prefetch" href="/assets/js/39.c305e970.js"><link rel="prefetch" href="/assets/js/4.aa579383.js"><link rel="prefetch" href="/assets/js/40.f236c3a9.js"><link rel="prefetch" href="/assets/js/41.142e0486.js"><link rel="prefetch" href="/assets/js/42.928a4df9.js"><link rel="prefetch" href="/assets/js/43.8bd51b77.js"><link rel="prefetch" href="/assets/js/44.e1e93df2.js"><link rel="prefetch" href="/assets/js/45.f1aa2f12.js"><link rel="prefetch" href="/assets/js/46.5e685ec7.js"><link rel="prefetch" href="/assets/js/47.8cedabe2.js"><link rel="prefetch" href="/assets/js/48.deeb4536.js"><link rel="prefetch" href="/assets/js/49.a4b39f6e.js"><link rel="prefetch" href="/assets/js/50.840c0e16.js"><link rel="prefetch" href="/assets/js/51.4b1c68ab.js"><link rel="prefetch" href="/assets/js/52.c22c30be.js"><link rel="prefetch" href="/assets/js/53.6fa85498.js"><link rel="prefetch" href="/assets/js/54.6fd767b2.js"><link rel="prefetch" href="/assets/js/55.2562edbe.js"><link rel="prefetch" href="/assets/js/56.370a4720.js"><link rel="prefetch" href="/assets/js/57.6a47e3bb.js"><link rel="prefetch" href="/assets/js/58.47e21465.js"><link rel="prefetch" href="/assets/js/59.bc9408e4.js"><link rel="prefetch" href="/assets/js/6.a60cf9b3.js"><link rel="prefetch" href="/assets/js/60.d14d8ceb.js"><link rel="prefetch" href="/assets/js/61.9f354048.js"><link rel="prefetch" href="/assets/js/62.fa55ae3d.js"><link rel="prefetch" href="/assets/js/63.abd6a774.js"><link rel="prefetch" href="/assets/js/64.7f901043.js"><link rel="prefetch" href="/assets/js/65.44e5760e.js"><link rel="prefetch" href="/assets/js/66.cafb7f97.js"><link rel="prefetch" href="/assets/js/67.2067a648.js"><link rel="prefetch" href="/assets/js/68.ac8417fb.js"><link rel="prefetch" href="/assets/js/69.24ad78ad.js"><link rel="prefetch" href="/assets/js/7.a8cabf57.js"><link rel="prefetch" href="/assets/js/70.b140cbd4.js"><link rel="prefetch" href="/assets/js/71.44bdcd89.js"><link rel="prefetch" href="/assets/js/72.2cfeb22a.js"><link rel="prefetch" href="/assets/js/73.b20fbed8.js"><link rel="prefetch" href="/assets/js/74.a45a74a5.js"><link rel="prefetch" href="/assets/js/75.f39a6ecc.js"><link rel="prefetch" href="/assets/js/76.f0ed7f97.js"><link rel="prefetch" href="/assets/js/77.522b28aa.js"><link rel="prefetch" href="/assets/js/78.05817f8e.js"><link rel="prefetch" href="/assets/js/79.3ee2cb44.js"><link rel="prefetch" href="/assets/js/8.0396266a.js"><link rel="prefetch" href="/assets/js/80.ff44ba35.js"><link rel="prefetch" href="/assets/js/81.037cb6d5.js"><link rel="prefetch" href="/assets/js/82.1229b54e.js"><link rel="prefetch" href="/assets/js/83.8555e132.js"><link rel="prefetch" href="/assets/js/84.ab6f56a8.js"><link rel="prefetch" href="/assets/js/85.3af10a46.js"><link rel="prefetch" href="/assets/js/86.04642cc1.js"><link rel="prefetch" href="/assets/js/87.46dddadb.js"><link rel="prefetch" href="/assets/js/88.8fa47533.js"><link rel="prefetch" href="/assets/js/89.53ed4aa6.js"><link rel="prefetch" href="/assets/js/9.410392cc.js"><link rel="prefetch" href="/assets/js/90.adf0c007.js"><link rel="prefetch" href="/assets/js/91.ab3b9040.js"><link rel="prefetch" href="/assets/js/92.d115ae8a.js"><link rel="prefetch" href="/assets/js/93.65417066.js"><link rel="prefetch" href="/assets/js/94.3c27629c.js"><link rel="prefetch" href="/assets/js/95.a9bd1886.js"><link rel="prefetch" href="/assets/js/96.f71510a0.js"><link rel="prefetch" href="/assets/js/97.82a2670e.js"><link rel="prefetch" href="/assets/js/98.8c881298.js"><link rel="prefetch" href="/assets/js/99.3f4e41cc.js">
    <link rel="stylesheet" href="/assets/css/0.styles.a650c097.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu have-body-img"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/img/logo.png" alt="RunSS11's blog" class="logo"> <span class="site-name can-hide">RunSS11's blog</span></a> <div class="links"><nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="🔑索引" class="dropdown-title"><!----> <span class="title" style="display:;">🔑索引</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/" class="nav-link">分类</a></li><li class="dropdown-item"><!----> <a href="/tags/" class="nav-link">标签</a></li><li class="dropdown-item"><!----> <a href="/archives/" class="nav-link">归档</a></li></ul></div></div></nav> <div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="文章" class="dropdown-title"><a href="/article/" class="link-title">文章</a> <span class="title" style="display:none;">文章</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/article/web/" class="nav-link">前端</a></li><li class="dropdown-item"><!----> <a href="/article/server/" class="nav-link">后端</a></li><li class="dropdown-item"><!----> <a href="/article/linux/" class="nav-link">Linux</a></li><li class="dropdown-item"><!----> <a href="/article/openssl/" class="nav-link">Openssl</a></li><li class="dropdown-item"><!----> <a href="/article/level2/" class="nav-link">Level2</a></li><li class="dropdown-item"><!----> <a href="/article/algorithm/" class="nav-link">算法</a></li><li class="dropdown-item"><!----> <a href="/article/other/" class="nav-link">其他</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="专栏" class="dropdown-title"><a href="/column/" class="link-title">专栏</a> <span class="title" style="display:none;">专栏</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/column/md/" class="nav-link">Markdown</a></li><li class="dropdown-item"><!----> <a href="/column/js/" class="nav-link">JavaScript</a></li><li class="dropdown-item"><!----> <a href="/column/es6/" class="nav-link">ECMAScript 6</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="项目" class="dropdown-title"><a href="/project/" class="link-title">项目</a> <span class="title" style="display:none;">项目</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/project/blog/" class="nav-link">本站开发</a></li><li class="dropdown-item"><!----> <a href="/project/fido/" class="nav-link">FIDO</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="更多" class="dropdown-title"><a href="/more/" class="link-title">更多</a> <span class="title" style="display:none;">更多</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>网址收藏</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/bb780f/" class="nav-link">收藏夹</a></li></ul></li><li class="dropdown-item"><h4>摸鱼娱乐</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/74e151/" class="nav-link">VIP视频解析</a></li><li class="dropdown-subitem"><a href="/pages/312d52/" class="nav-link">免费动漫</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/about/" class="nav-link">关于</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><!----> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="文章" class="dropdown-title"><a href="/article/" class="link-title">文章</a> <span class="title" style="display:none;">文章</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/article/web/" class="nav-link">前端</a></li><li class="dropdown-item"><!----> <a href="/article/server/" class="nav-link">后端</a></li><li class="dropdown-item"><!----> <a href="/article/linux/" class="nav-link">Linux</a></li><li class="dropdown-item"><!----> <a href="/article/openssl/" class="nav-link">Openssl</a></li><li class="dropdown-item"><!----> <a href="/article/level2/" class="nav-link">Level2</a></li><li class="dropdown-item"><!----> <a href="/article/algorithm/" class="nav-link">算法</a></li><li class="dropdown-item"><!----> <a href="/article/other/" class="nav-link">其他</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="专栏" class="dropdown-title"><a href="/column/" class="link-title">专栏</a> <span class="title" style="display:none;">专栏</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/column/md/" class="nav-link">Markdown</a></li><li class="dropdown-item"><!----> <a href="/column/js/" class="nav-link">JavaScript</a></li><li class="dropdown-item"><!----> <a href="/column/es6/" class="nav-link">ECMAScript 6</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="项目" class="dropdown-title"><a href="/project/" class="link-title">项目</a> <span class="title" style="display:none;">项目</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/project/blog/" class="nav-link">本站开发</a></li><li class="dropdown-item"><!----> <a href="/project/fido/" class="nav-link">FIDO</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="更多" class="dropdown-title"><a href="/more/" class="link-title">更多</a> <span class="title" style="display:none;">更多</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><h4>网址收藏</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/bb780f/" class="nav-link">收藏夹</a></li></ul></li><li class="dropdown-item"><h4>摸鱼娱乐</h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/pages/74e151/" class="nav-link">VIP视频解析</a></li><li class="dropdown-subitem"><a href="/pages/312d52/" class="nav-link">免费动漫</a></li></ul></li></ul></div></div><div class="nav-item"><a href="/about/" class="nav-link">关于</a></div> <!----></nav> <nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="🔑索引" class="dropdown-title"><!----> <span class="title" style="display:;">🔑索引</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/" class="nav-link">分类</a></li><li class="dropdown-item"><!----> <a href="/tags/" class="nav-link">标签</a></li><li class="dropdown-item"><!----> <a href="/archives/" class="nav-link">归档</a></li></ul></div></div></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>本站开发</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/51c561/" class="sidebar-link">本站介绍</a></li><li><a href="/pages/27ed35/" class="sidebar-link">本站初始化</a></li><li><a href="/pages/57bbd2/" class="sidebar-link">本站主题</a></li><li><a href="/pages/6554a5/" class="sidebar-link">本站配置</a></li><li><a href="/pages/aee78b/" class="sidebar-link">本站评论</a></li><li><a href="/pages/a11cba/" aria-current="page" class="active sidebar-link">本站部署</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level2"><a href="/pages/a11cba/#前言" class="sidebar-link">前言</a></li><li class="sidebar-sub-header level2"><a href="/pages/a11cba/#github-pages" class="sidebar-link">GitHub Pages</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/a11cba/#创建代码仓库" class="sidebar-link">创建代码仓库</a></li><li class="sidebar-sub-header level3"><a href="/pages/a11cba/#创建部署仓库" class="sidebar-link">创建部署仓库</a></li><li class="sidebar-sub-header level3"><a href="/pages/a11cba/#本地手动部署" class="sidebar-link">本地手动部署</a></li><li class="sidebar-sub-header level3"><a href="/pages/a11cba/#远程自动部署" class="sidebar-link">远程自动部署</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/a11cba/#gitee-pages" class="sidebar-link">Gitee Pages</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/a11cba/#同步并部署到gitee" class="sidebar-link">同步并部署到Gitee</a></li><li class="sidebar-sub-header level3"><a href="/pages/a11cba/#同步项目源码到gitee" class="sidebar-link">同步项目源码到Gitee</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/a11cba/#私密数据" class="sidebar-link">私密数据</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/a11cba/#本地获取" class="sidebar-link">本地获取</a></li><li class="sidebar-sub-header level3"><a href="/pages/a11cba/#远程获取" class="sidebar-link">远程获取</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/a11cba/#自定义域名" class="sidebar-link">自定义域名</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/a11cba/#申请域名" class="sidebar-link">申请域名</a></li><li class="sidebar-sub-header level3"><a href="/pages/a11cba/#github-pages-自定义域名" class="sidebar-link">GitHub Pages 自定义域名</a></li><li class="sidebar-sub-header level3"><a href="/pages/a11cba/#gitee-pages-自定义域名" class="sidebar-link">Gitee Pages 自定义域名</a></li></ul></li><li class="sidebar-sub-header level2"><a href="/pages/a11cba/#seo-优化" class="sidebar-link">SEO 优化</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header level3"><a href="/pages/a11cba/#百度推送" class="sidebar-link">百度推送</a></li></ul></li></ul></li><li><a href="/pages/7d0e93/" class="sidebar-link">本站管理</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>FIDO</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper bg-style-1"><div class="articleInfo-wrap" data-v-06225672><div class="articleInfo" data-v-06225672><ul class="breadcrumbs" data-v-06225672><li data-v-06225672><a href="/" title="首页" class="iconfont icon-home router-link-active" data-v-06225672></a></li> <li data-v-06225672><a href="/project/#项目" data-v-06225672>项目</a></li><li data-v-06225672><a href="/project/#本站开发" data-v-06225672>本站开发</a></li></ul> <div class="info" data-v-06225672><div title="作者" class="author iconfont icon-touxiang" data-v-06225672><a href="https://github.com/foreverRuns" target="_blank" title="作者" class="beLink" data-v-06225672>Runs</a></div> <div title="创建时间" class="date iconfont icon-riqi" data-v-06225672><a href="javascript:;" data-v-06225672>2022-02-22</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-title">目录</div> <div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABKFJREFUSA3tVl1oFVcQnrMbrak3QUgkya1akpJYcrUtIqW1JvFBE9LiQ5v6JmJpolbMg32rVrhgoYK0QiMY6i9Y6EMaW5D+xFJaTYItIuK2Kr3+BJNwkxBj05sQY3b3nM6cs2dv9t7NT/vQJw/sndk5M/PNzJkzewGerP+pAmy+ON8lLzUJgA8ZYxYIYZmGYRnctDaWvJJAmTtfP1pvXsBCCPP8QFcCaRkZYACgDZFO4stNIcBCajEOlmmC9XpJ9bAGCaPaPmzPl32dvLSVu3BWCTQs0XQQ6g0DYgwLIoAZbBCdW/i+781o1VVlm/410mw4h06Y7bIPHNyWDyL4FHkX03Q8SrzNhZTZriieckWt7cL6MM85YcLpsi/7O9/iXFT6MswI0DmmpkSaJ0qLxFIm3+i1THHB3zmBH3PYx9CcykcLOeQVVa7QtdxTgQgEleX2AjHYfwA+2ddV77ruGoJUbhGDI09YSNXyMpUt5ylOzxgbUmtOp7NmbNt8v3arjTBfYELmLUV+M+nSawNNAUqpT3ClJWg5I3BLT+cGW/DXNGCa6tx1aakCGEigArTn4TDIPdrXXYKCZNrHLMCOEPvHBlLQ99s9eHB7EB6NTki73CVPQ2F5MSx/uRQixfmq7rK0wYD8w8E905bnPDfwoWs/rfv93NWN/ZfvwsLIU7A09gxECyISeGJkHAau98L97tuw7NXnoPyNF8FcYGLGKsOs0mN3OEyec9esGW/ZEl945dTP34wlR2FZVQWU1q0Cw8Tr7p+hgLLNL0FPxx/Q35mA8aEUrH6nCgwEl0tn7wUiZYJnNRh6DK4UH/k0lfyrsBKdPVv/AriGIQcEDQZ65LBAGe2Rzui9Ybjz7XUppz1/uKBbyVPGkN3ZAeC6hr0x7Nr38N5+EqkoOm17xpoqR9ohQF55ERSvr4Dkr3chNfC3DMzGJlNBElW8w9nsGQvhNGIzDkXzCg8cLK951xHsFBlTJspJNi3ZFIMF2AeDV3q8DNOB+YHi6QTrChDIWDBRi5U5f+ZMfJLu3ccrqxtdxk4SKH336LFxSmkqefwU5T8fhdSdQf9IVKD6aNiwI/hnmcAZ91isYMJIaCUCx9W098+LgruikeTqzqqxKPUwqJyCPJiyemVVZBOijDGjD38Os0jOiSPL1z3SPjXNANbiNPXAdzTfukjjuknNBbyz3nwgTd3AVFqUJ5hpHlq9MveLnWwttUfoygBmvVjuikxND3znrhsELnZk7k+OjIGxeNEkomyLVta0xxn+HZhjBc4YZ/AFjHjz9u3xRZl2BN4aq9nFwWh16IrQ1aHHEd3j1+4/dB9OtH4e29A2H1DyHQRmOSfQZ1Fy7MHBTGB6J/Djq6p3OxyO2cB+4Car7v/o3GXgfAkj23+x9ID1Teoamo/SXcbvSf2PX7Vc8DdCmE1vN9di+32P9/5YR3vLnhCVGUWBjEkr3yh4H8v9CzmsbdhzOKzsJKM90iFdaTMjRPhGVsakRvOaRidljo6H6G7j+ctrJpsP+4COhDIl0La2+FS4+5mlocBaXY5QnGZysIBYoeSsl5qQzrSj/cgNrfuEzlWBfwA+EjrZyWUvpAAAAABJRU5ErkJggg==">本站部署<!----></h1> <!----> <div class="theme-vdoing-content content__default"><h1 id="本站部署"><a href="#本站部署" class="header-anchor">#</a> 本站部署</h1> <h2 id="前言"><a href="#前言" class="header-anchor">#</a> 前言</h2> <p>VuePress 官方提供了很多平台的部署实现，具体 <a href="https://vuepress.vuejs.org/zh/guide/deploy.html" target="_blank" rel="noopener noreferrer">看这里<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。</p> <p>本站目前是部署到 <code>GitHub Pages</code> 并同步部署到 <code>Gitee Pages</code> 上。</p> <h2 id="github-pages"><a href="#github-pages" class="header-anchor">#</a> GitHub Pages</h2> <p><a href="https://docs.github.com/cn/pages" target="_blank" rel="noopener noreferrer">GitHub Pages<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 是一个静态站点托管服务，可用于托管个人的静态网站。很多人用它来搭建私人博客，省去了购买服务器、域名等等一系列复杂的操作。</p> <p><a href="https://docs.github.com/cn/pages/getting-started-with-github-pages/about-github-pages#" target="_blank" rel="noopener noreferrer">GitHub Pages Sites<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 有三种类型：</p> <ul><li><p>用户站点 <code>user</code>：</p> <ul><li>要发布用户站点，必须创建一个名为 <code>&lt;username&gt;.github.io</code> 的用户仓库</li> <li>用户站点的默认发布源是仓库的默认分支 <code>main/master</code> 根目录</li> <li>通过 <code>https://&lt;username&gt;.github.io/</code> 访问</li></ul></li> <li><p>组织站点 <code>organization</code>：</p> <ul><li>要发布组织站点，必须创建一个名为 <code>&lt;organization&gt;.github.io</code> 的组织仓库</li> <li>组织站点的默认发布源是仓库的默认分支 <code>main/master</code> 根目录</li> <li>通过 <code>https://&lt;organization&gt;.github.io/</code> 访问</li></ul></li> <li><p>项目站点 <code>project</code>：</p> <ul><li>要发布项目站点，仓库名字可以随便取，比如 <code>blog</code></li> <li>项目站点的默认发布源是 <code>gh pages</code> 分支根目录</li> <li>通过 <code>https://&lt;username&gt;.github.io/&lt;REPO&gt;/</code> 或 <code>https://&lt;organization&gt;.github.io/&lt;REPO&gt;/</code> 访问。比如：<code>https://&lt;username&gt;.github.io/blog</code></li></ul></li></ul> <p>在此之前，你需要在 <code>docs/.vuepress/config.js</code> 中设置正确的 <code>base</code>:</p> <ul><li>如果你打算发布到 <code>https://&lt;USERNAME&gt;.github.io/</code>，则无需配置 <code>base</code>，因为 <code>base</code> 默认即是 <code>&quot;/&quot;</code>。</li> <li>如果你打算发布到 <code>https://&lt;USERNAME&gt;.github.io/&lt;REPO&gt;/</code>（也就是说你的仓库在 <code>https://github.com/&lt;USERNAME&gt;/&lt;REPO&gt;</code>），则将 <code>base</code> 设置为 <code>&quot;/&lt;REPO&gt;/&quot;</code>。</li></ul> <p>本站是单独部署在 <code>https://github.com/foreverRuns/blog</code> 仓库的 <code>gh-pages</code> 分支上，所以设置为 <code>base: '/blog/'</code></p> <p>为什么不部署到代码仓库 <code>https://github.com/foreverRuns/vuepress-vdoing-blog</code> 的 <code>gh-pages</code> 分支上？<br>
因为后面可能代码或文档由于某些原因可能会将仓库变为私有，由于开启 GitHub Pages 的仓库需要公开，部署到 blog 仓库上就不受影响。</p> <h3 id="创建代码仓库"><a href="#创建代码仓库" class="header-anchor">#</a> 创建代码仓库</h3> <blockquote><p>没有 <code>Github</code> 账号的，<a href="https://github.com/" target="_blank" rel="noopener noreferrer">点击这里<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 去注册</p></blockquote> <ol><li>右上角 <code>+</code>，选择 <code>New repository</code> 新建一个仓库存放代码</li></ol> <p><img src="https://cdn.staticaly.com/gh/foreverRuns/image-hosting@main/blog/githubNewRep.cgpssz2toc0.webp" alt="githubNewRep"></p> <ol start="2"><li>本地使用 <code>git</code> 管理项目</li></ol> <ul><li>进入项目根目录 <code>vuepress-vdoing-blog</code></li></ul> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token comment"># 初始化</span>
<span class="token function">git</span> init
<span class="token comment"># 修改默认主分支名称，跟 github 仓库一样</span>
<span class="token function">git</span> branch <span class="token parameter variable">-m</span> master main
<span class="token comment"># 添加远程仓库地址</span>
<span class="token function">git</span> remote <span class="token function">add</span> origin https://github.com/foreverRuns/vuepress-vdoing-blog.git
<span class="token comment"># 拉取远程仓库，同步到本地 (因为创建仓库时我们添加了 LICENSE 跟 README.md，如果创建的是空仓库不需要先 pull)</span>
<span class="token function">git</span> pull origin main
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><div class="custom-block tip"><p class="custom-block-title">提示</p> <p>现在 github 仓库默认主分支更改为 <code>main</code>，本地 git init 初始化默认主分支为 <code>master</code>。 <a href="/01.文章/99.其他/99.git/02.github默认分支.html">看这里</a></p></div> <ol start="3"><li>提交代码到远程github仓库</li></ol> <ul><li>创建 <code>.gitignore</code> 文件，写上不需要上传到远程仓库的文件</li></ul> <div class="language-js line-numbers-mode"><pre class="language-js"><code>node_modules
yarn<span class="token punctuation">.</span>lock
<span class="token punctuation">.</span>vscode
docs<span class="token operator">/</span><span class="token punctuation">.</span>vuepress<span class="token operator">/</span>dist
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><ul><li>提交代码</li></ul> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token comment"># 把项目的所有文件添加到本地仓库</span>
<span class="token function">git</span> <span class="token function">add</span> <span class="token parameter variable">-A</span>
<span class="token comment"># 填写本次提交的描述</span>
<span class="token function">git</span> commit <span class="token parameter variable">-m</span> <span class="token string">'init'</span>
<span class="token comment"># 将本地仓库推送到远程仓库, 如果创建的远程仓库是空仓库，第一次提交时需要创建并提交 git push -u origin main</span>
<span class="token function">git</span> push origin main
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><details class="custom-block details"><summary>提交出错看这里</summary> <p>Support for password authentication was removed on August 13, 2021. Please use a personal access token instead.<br>
Github 现在需要使用 token 认证，<a href="/01.文章/99.其他/99.git/04.githubToken.html">教程看这里</a>。<br>
设置 token 拥有的权限时候，勾上 repo 跟 workflow，因为后面远程部署用到 github action，需要 workflow 权限。</p></details> <h3 id="创建部署仓库"><a href="#创建部署仓库" class="header-anchor">#</a> 创建部署仓库</h3> <ol><li><p>右上角 <code>+</code>，选择 <code>New repository</code> 新建仓库 <code>blog</code> 用于存放构建打包后的代码，即将博客部署到该仓库下。仓库名称即为 <code>docs/.vuepress/config.js</code> 中 <code>base</code> 设置的值</p></li> <li><p>进入该仓库，点击左上角的 <code>main</code> 分支下拉按钮，在输入框中输入 <code>gh-pages</code>，点击下面生成的 <code>Create branch: gh-pages from main</code> 创建 <code>gh-pages</code> 分支</p></li></ol> <p><img src="https://cdn.staticaly.com/gh/foreverRuns/image-hosting@main/blog/githubBlog1.1b8e2usawphc.webp" alt="githubBlog1"></p> <p>然后仓库上面 <code>Settings/Pages/</code> 下：</p> <p><img src="https://cdn.staticaly.com/gh/foreverRuns/image-hosting@main/blog/githubBlog3.2azig9s7o96o.webp" alt="githubBlog3"></p> <div class="custom-block tip"><p class="custom-block-title">提示</p> <p><code>gh-pages</code> 分支根目录是 <code>项目站点 即 project 类型</code> 的默认发布源，所以上面设置默认就设置好了。如果在分支发布，则需要在上面 <code>Pages</code> 设置下选择对应的分支。</p></div> <ol><li>构建打包，生成静态文件，默认生成在 <code>docs/.vuepress/dist</code> 下。</li></ol> <div class="theme-code-group" data-v-2f5f1757><div class="theme-code-group__nav" data-v-2f5f1757><ul class="theme-code-group__ul" data-v-2f5f1757></ul></div> <div class="theme-code-block theme-code-block__active" data-v-4f1e9d0c><div class="language-sh line-numbers-mode" data-v-4f1e9d0c><pre class="language-sh" data-v-4f1e9d0c><code data-v-4f1e9d0c><span class="token function" data-v-4f1e9d0c>yarn</span> build
</code></pre> <div class="line-numbers-wrapper" data-v-4f1e9d0c><span class="line-number" data-v-4f1e9d0c>1</span><br data-v-4f1e9d0c></div></div></div> <div class="theme-code-block" data-v-4f1e9d0c><div class="language-sh line-numbers-mode" data-v-4f1e9d0c><pre class="language-sh" data-v-4f1e9d0c><code data-v-4f1e9d0c><span class="token function" data-v-4f1e9d0c>npm</span> run build
</code></pre> <div class="line-numbers-wrapper" data-v-4f1e9d0c><span class="line-number" data-v-4f1e9d0c>1</span><br data-v-4f1e9d0c></div></div></div> <pre class="pre-blank" data-v-2f5f1757>// Make sure to add code blocks to your code group</pre></div> <ol start="4"><li>进入打包的目录 <code>docs/.vuepress/dist</code>，将生成的文件推送到部署仓库的 <code>gh-pages</code> 分支下</li></ol> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token builtin class-name">cd</span> docs/.vuepress/dist
<span class="token function">git</span> init 
<span class="token function">git</span> <span class="token function">add</span> <span class="token parameter variable">-A</span>
<span class="token function">git</span> commit <span class="token parameter variable">-m</span> <span class="token string">'手动部署'</span>
<span class="token function">git</span> push <span class="token parameter variable">-f</span> git@github.com:foreverRuns/blog.git master:gh-pages
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><blockquote><p>解释一下 <code>git push -f git@github.com:foreverRuns/blog.git master:gh-pages</code> :</p></blockquote> <ul><li><code>-f</code> 是 --force的缩写，强制覆盖远程仓库。注意：-f 有风险，master/main 主分支上请谨慎使用</li> <li><code>git@github.com:foreverRuns/blog.git</code> 是你的仓库地址，可以是 HTTPS/SSH 地址，记不住的可以直接在你的仓库右边绿色的 Code 按钮下复制</li> <li><code>master:gh-pages</code> 是 将本地 master 分支 推送到远程 gh-pages 分支。这里为什么是 master 而不是 main，因为上面 git init 初始化默认分支就是 master</li></ul> <p><img src="https://cdn.staticaly.com/gh/foreverRuns/image-hosting@main/blog/githubBlog2.2v3wu96has00.webp" alt="githubBlog2"></p> <p>推送成功后，你就将你的网站部署到了 <code>https://&lt;USERNAME&gt;.github.io/&lt;REPO&gt;/</code> 上，本站是 <code>https://foreverRuns.github.io/blog/</code>。</p> <blockquote><p>Github 只要更新了 gh-pages 分支内容，就会立刻自动重新部署，所以访问页面是最新的。</p></blockquote> <h3 id="本地手动部署"><a href="#本地手动部署" class="header-anchor">#</a> 本地手动部署</h3> <p>到这里，已经是部署成功了，但是每次修改代码或者更新你的博客文章时，都需要重新打包构建，并执行上面命令去手动部署，这很繁琐。</p> <p>需要频繁执行一系列命令时，可以将其写到 bash 脚本中，通过执行脚本去执行一系列命令。不懂 bash 的，<a href="https://wangdoc.com/bash/intro.html" target="_blank" rel="noopener noreferrer">看这里<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。</p> <ol><li>在项目根目录新建 <code>deploy.sh</code> 部署脚本：</li></ol> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token shebang important">#!/usr/bin/env sh</span>

<span class="token comment"># 确保脚本抛出遇到的错误</span>
<span class="token builtin class-name">set</span> <span class="token parameter variable">-e</span>

<span class="token comment"># 生成静态文件</span>
<span class="token function">yarn</span> build

<span class="token comment"># 进入生成的文件夹</span>
<span class="token builtin class-name">cd</span> docs/.vuepress/dist

<span class="token comment"># 设置变量</span>
<span class="token assign-left variable">msg</span><span class="token operator">=</span><span class="token string">'本地手动部署'</span>  <span class="token comment">#yarn deploy</span>
<span class="token assign-left variable">githubUrl</span><span class="token operator">=</span>https://github.com/foreverRuns/blog

<span class="token comment"># 本地部署</span>
<span class="token function">git</span> init 
<span class="token function">git</span> <span class="token function">add</span> <span class="token parameter variable">-A</span>
<span class="token function">git</span> commit <span class="token parameter variable">-m</span> <span class="token string">&quot;<span class="token variable">${msg}</span>&quot;</span>
<span class="token function">git</span> push <span class="token parameter variable">-f</span> <span class="token variable">$githubUrl</span> master:gh-pages <span class="token comment"># 将本地master分支 推送到远程 blog 仓库下的 gh-pages 分支</span>

<span class="token comment"># 退回开始所在目录</span>
<span class="token builtin class-name">cd</span> -

<span class="token comment"># 删除打包目录</span>
<span class="token function">rm</span> <span class="token parameter variable">-rf</span> docs/.vuepress/dist
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><blockquote><p>执行该脚本需要支持 <code>bash 命令的窗口</code>，Windows 终端无法执行</p></blockquote> <p>在项目根目录右键，选择 <code>Git Bash Here</code> 打开 Git Bash 窗口，输入：</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token function">bash</span> deploy.sh
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>即可通过脚本一键部署</p> <ol start="2"><li>将该命令写到 <code>package.json</code> 中的 <code>scripts</code> 中统一管理</li></ol> <div class="language-js line-numbers-mode"><div class="highlight-lines"><br><br><br><div class="highlighted"> </div><br><br></div><pre class="language-js"><code><span class="token string-property property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
  <span class="token string-property property">&quot;dev&quot;</span><span class="token operator">:</span> <span class="token string">&quot;vuepress dev docs&quot;</span><span class="token punctuation">,</span>
  <span class="token string-property property">&quot;build&quot;</span><span class="token operator">:</span> <span class="token string">&quot;vuepress build docs&quot;</span><span class="token punctuation">,</span>
  <span class="token string-property property">&quot;deploy&quot;</span><span class="token operator">:</span> <span class="token string">&quot;bash deploy.sh&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>这样，执行以下命令就可以实现一键部署</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token function">yarn</span> deploy
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="远程自动部署"><a href="#远程自动部署" class="header-anchor">#</a> 远程自动部署</h3> <p>到这里，我们只需要执行 <code>yarn deploy</code> 就可以实现一键部署了，但是当你想在远程仓库在线更新博客时，需要本地先 <code>pull</code> 拉取远程代码，然后再本地打包部署，相当麻烦。</p> <p>我们使用 <code>GitHub Actions</code> 可以实现在修改完代码或者更新博客，把代码 <code>push</code> 到代码仓库后，在远程自动执行上面脚本去部署。</p> <p><a href="https://github.com/actions" target="_blank" rel="noopener noreferrer">GitHub Actions<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 是 GitHub 的 <a href="https://www.ruanyifeng.com/blog/2015/09/continuous-integration.html" target="_blank" rel="noopener noreferrer">持续集成服务<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，不了解的先移步本站 <a href="/01.文章/99.其他/99.git/05.GitHubActions.html">GitHub Actions 入门教程</a>。</p> <h4 id="配置-access-token"><a href="#配置-access-token" class="header-anchor">#</a> 配置 ACCESS_TOKEN</h4> <ol><li><p>首先需要申请一个 <code>personal access token</code>， <a href="/01.文章/99.其他/99.git/04.githubToken.html">怎么申请看这里</a>，设置权限时勾上 <code>workflow</code>。</p></li> <li><p>这个 token 用于远程部署提交代码时的权限验证，就像本地第一次提交代码时也需要设置 token 一样。<br>
由于 token 的私密性，不应该直接放在脚本中，我们可以放到 <code>代码仓库</code> 的 <code>Settings/secrets/actions</code> 下，通过环境变量去获取 token，具体如下：</p></li></ol> <p><img src="https://cdn.staticaly.com/gh/foreverRuns/image-hosting@main/blog/githubSecrets1.3jkko9zmh9hc.webp" alt="githubSecrets1"></p> <p>点击上面的 <code>New repository secret</code></p> <p><img src="https://cdn.staticaly.com/gh/foreverRuns/image-hosting@main/blog/githubSecrets2.wp92dryb128.webp" alt="githubSecrets2"></p> <div class="custom-block tip"><p class="custom-block-title">提示</p> <p>token 的名字设置为 <code>ACCESS_TOKEN</code>，那么我们在脚本中就可以通过</p> <div class="language-yml line-numbers-mode"><pre class="language-yml"><code>$<span class="token punctuation">{</span><span class="token punctuation">{</span> secrets.ACCESS_TOKEN <span class="token punctuation">}</span><span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>来获取该 token，<a href="https://docs.github.com/en/actions/security-guides/encrypted-secrets" target="_blank" rel="noopener noreferrer">官方 secrets 说明文档<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></div> <h4 id="配置-action-脚本"><a href="#配置-action-脚本" class="header-anchor">#</a> 配置 action 脚本</h4> <ol><li><p>在项目根目录下，新建 <code>.github/workflows</code> 目录，必须这个名字，因为 GitHub Actions 就是这么规定的，只要该目录下有 <code>.yml</code> 脚本就会去自动执行</p></li> <li><p>在 <code>.github/workflows</code> 目录下新建 <code>ci.yml</code> 脚本，脚本名字可以自定义</p></li></ol> <div class="language-yml line-numbers-mode"><pre class="language-yml"><code><span class="token key atrule">name</span><span class="token punctuation">:</span> CI

<span class="token comment"># 触发条件</span>
<span class="token key atrule">on</span><span class="token punctuation">:</span>
  <span class="token comment"># 在master分支发生push事件时触发。</span>
  <span class="token key atrule">push</span><span class="token punctuation">:</span>
    <span class="token key atrule">branches</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> main
      <span class="token punctuation">-</span> mater
  <span class="token comment"># 支持手动，方便测试 (在github仓库的action下对应的action开启了Runs workflow 按钮)</span>
  <span class="token key atrule">workflow_dispatch</span><span class="token punctuation">:</span>

<span class="token key atrule">env</span><span class="token punctuation">:</span> <span class="token comment"># 设置环境变量</span>
  <span class="token key atrule">TZ</span><span class="token punctuation">:</span> Asia/Shanghai <span class="token comment"># 时区（设置时区可使页面中的`最近更新时间`使用时区时间）</span>

<span class="token key atrule">jobs</span><span class="token punctuation">:</span> <span class="token comment"># 工作流</span>
  <span class="token key atrule">build</span><span class="token punctuation">:</span> <span class="token comment"># 自定义名称</span>
    <span class="token key atrule">runs-on</span><span class="token punctuation">:</span> ubuntu<span class="token punctuation">-</span>latest <span class="token comment"># 运行在最新的ubuntu虚拟机环境</span>

    <span class="token key atrule">strategy</span><span class="token punctuation">:</span>
      <span class="token key atrule">matrix</span><span class="token punctuation">:</span>
        <span class="token key atrule">node-version</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>14.x<span class="token punctuation">]</span>

    <span class="token key atrule">steps</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Checkout <span class="token comment"># 步骤1 拉取代码</span>
        <span class="token key atrule">uses</span><span class="token punctuation">:</span> actions/checkout@v2 <span class="token comment"># 使用的动作。格式：userName/repoName。作用：检出仓库，获取源码。 官方actions库：https://github.com/actions</span>
        <span class="token key atrule">with</span><span class="token punctuation">:</span>
          <span class="token comment"># Number of commits to fetch. 0 indicates all history for all branches and tags.</span>
          <span class="token comment"># Default: 1</span>
          <span class="token key atrule">fetch-depth</span><span class="token punctuation">:</span> <span class="token number">0</span> <span class="token comment"># 0 表示获取所有分支和标签的所有 Commit 记录。 (文章底部的 `最近更新时间` 对应该文章的 commit 提交时间，没有设置这个会出现问题)</span>
          
      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Use Node.js $<span class="token punctuation">{</span><span class="token punctuation">{</span> matrix.node<span class="token punctuation">-</span>version <span class="token punctuation">}</span><span class="token punctuation">}</span> <span class="token comment"># 步骤2</span>
        <span class="token key atrule">uses</span><span class="token punctuation">:</span> actions/setup<span class="token punctuation">-</span>node@v1 <span class="token comment"># 作用：安装nodejs</span>
        <span class="token key atrule">with</span><span class="token punctuation">:</span>
          <span class="token key atrule">node-version</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span><span class="token punctuation">{</span> matrix.node<span class="token punctuation">-</span>version <span class="token punctuation">}</span><span class="token punctuation">}</span> <span class="token comment"># 版本</span>

      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> run deploy.sh <span class="token comment"># 步骤3</span>
        <span class="token key atrule">env</span><span class="token punctuation">:</span> <span class="token comment"># 设置环境变量</span>
          <span class="token key atrule">GITHUB_TOKEN</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span><span class="token punctuation">{</span> secrets.ACCESS_TOKEN <span class="token punctuation">}</span><span class="token punctuation">}</span> <span class="token comment"># toKen私密变量 (在 仓库/Settings/Secrets/Actions/ 下， New repository secret 创建)</span>
        <span class="token key atrule">run</span><span class="token punctuation">:</span> yarn <span class="token important">&amp;&amp;</span> yarn deploy <span class="token comment"># 安装依赖，执行deploy.sh</span>


      <span class="token comment"># 步骤3 （只需要github action自动部署, 不需要本地部署的可以使用这个步骤）</span>
      <span class="token comment"># - name: Install and Build # npm install npm run build</span>
      <span class="token comment">#   run: |</span><span class="token scalar string">
      #     yarn
      #     yarn build
      #     # cd docs/.vuepress/dist
      #     # echo 'xxx.com' &gt; CNAME
      #     # cd -
      # - name: Deploy
      #   uses: JamesIves/github-pages-deploy-action@v4.2.2 # V4 开始不需要添加 token ，如果添加会报 128 错误。 https://github.com/JamesIves/github-pages-deploy-action
      #   with:
      #     branch: gh-pages # The branch the action should deploy to.
      #     folder: docs/.vuepress/dist # The folder the action should deploy.
      #     # This option defaults to the repository scoped GitHub Token.
      #     # 2021年8月13日开始，GitHub不再支持密码验证解决方案，需要使用token登录
      #     # JamesIves/github-pages-deploy-action v4 版本默认使用仓库登录的token
      #     # 如果你只是部署到本仓库的gh-pages下，不需要再提供token了，如果添加会报 128 错误
      #     # 如果你需要部署到其他仓库，只需要提供 access token
      #     token: ${{ secrets.ACCESS_TOKEN }}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br></div></div><blockquote><p>看不懂脚本的, 移步本站 <a href="/01.文章/99.其他/99.git/05.GitHubActions.html">GitHub Actions 入门教程</a>。</p></blockquote> <p>这个脚本文件会在 <code>master</code> 或者 <code>main</code> 分支发生 <code>push</code> 事件时触发，运行环境是 <code>ubuntu-latest</code>，工作步骤为：</p> <ol><li>拉取仓库源码</li> <li>安装 nodejs，因为打包项目要用到 nodejs</li> <li>把 <code>token</code> 设置到环境变量，安装项目依赖，并运行 <code>deploy.sh</code> 脚本，进行打包及部署</li></ol> <div class="custom-block tip"><p class="custom-block-title">提示</p> <p>如果你不需要本地脚本手动部署, 可以将上面的的 <code>步骤三</code> 屏蔽掉, 打开最下面已经屏蔽的 <code>步骤三</code>, 这样就可以实现远程自动部署了, 也就不需要 <code>deploy.sh</code> 脚本了</p></div> <h4 id="修改-deploy-sh-脚本"><a href="#修改-deploy-sh-脚本" class="header-anchor">#</a> 修改 deploy.sh 脚本</h4> <p>修改在项目根目录下的 <code>deploy.sh</code> 部署脚本</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token shebang important">#!/usr/bin/env sh</span>

<span class="token comment"># 确保脚本抛出遇到的错误</span>
<span class="token builtin class-name">set</span> <span class="token parameter variable">-e</span>

<span class="token comment"># 生成静态文件</span>
<span class="token function">yarn</span> build

<span class="token comment"># 进入生成的文件夹</span>
<span class="token builtin class-name">cd</span> docs/.vuepress/dist

<span class="token comment"># 如果发布到自定义域名，请使用，不填则使用 GitHub 自带的 &lt;username&gt;.github.io</span>
<span class="token comment"># echo 'www.example.com' &gt; CNAME</span>

<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token parameter variable">-z</span> <span class="token string">&quot;<span class="token variable">$GITHUB_TOKEN</span>&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
  <span class="token assign-left variable">msg</span><span class="token operator">=</span><span class="token string">'本地手动部署'</span>  <span class="token comment"># 本地 yarn deploy</span>
  <span class="token assign-left variable">githubUrl</span><span class="token operator">=</span>https://github.com/foreverRuns/blog
<span class="token keyword">else</span>
  <span class="token assign-left variable">msg</span><span class="token operator">=</span><span class="token string">'GitHub Actions 自动部署'</span>
  <span class="token assign-left variable">githubUrl</span><span class="token operator">=</span>https://foreverRuns:<span class="token variable">${GITHUB_TOKEN}</span>@github.com/foreverRuns/blog.git
  <span class="token comment"># Omit --global to set the identity only in this repository.</span>
  <span class="token function">git</span> config <span class="token parameter variable">--global</span> user.name <span class="token string">&quot;foreverRuns&quot;</span>
  <span class="token function">git</span> config <span class="token parameter variable">--global</span> user.email <span class="token string">&quot;894xxxx40@qq.com&quot;</span>
<span class="token keyword">fi</span>
<span class="token function">git</span> init 
<span class="token function">git</span> <span class="token function">add</span> <span class="token parameter variable">-A</span>
<span class="token function">git</span> commit <span class="token parameter variable">-m</span> <span class="token string">&quot;<span class="token variable">${msg}</span>&quot;</span>
<span class="token function">git</span> push <span class="token parameter variable">-f</span> <span class="token variable">$githubUrl</span> master:gh-pages <span class="token comment"># 将 master 分支 推送到 blog 仓库下的 gh-pages分支</span>

<span class="token comment"># 退回开始所在目录</span>
<span class="token builtin class-name">cd</span> -
<span class="token comment"># 删除打包项目</span>
<span class="token function">rm</span> <span class="token parameter variable">-rf</span> docs/.vuepress/dist
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br></div></div><p>这个脚本现在执行过程是这样的：</p> <ol><li>先运行打包命令，生成 <code>docs/.vuepress/dist</code> 文件</li> <li>判断环境变量 <code>GITHUB_TOKEN</code> 是否存在，存在则是本地 <code>yarn deploy</code> 手动执行脚本，否则是远程 <code>Github Actions</code> 通过执行 <code>ci.yml</code> 脚本自动执行</li> <li>根据结果设置相应的变量</li> <li>将打包后的文件推送到对应仓库的 <code>gh-pages</code> 分支下</li></ol> <p>至此，我们就可以实现本地 <code>push</code> 代码到 github 仓库的 <code>main</code> 分支后，远程自动部署了</p> <p>可以在 github 仓库的 <code>Actions</code> 选项下查看部署日志。</p> <p><img src="https://cdn.staticaly.com/gh/foreverRuns/image-hosting@main/blog/githubActionLog.38hw60tfx7ls.webp" alt="githubActionLog"></p> <blockquote><p>由于在国内 <code>GitHub</code> 不稳定，网速很慢🐌，经常连不上🐛，着急的时候真抓狂💥。接下来我们将同步部署到访问速度更快的 <code>Gitee Pages</code>。</p></blockquote> <h2 id="gitee-pages"><a href="#gitee-pages" class="header-anchor">#</a> Gitee Pages</h2> <p><code>Gitee Pages</code> 是一个免费的静态网页托管服务，在国内它的访问速度很快，很多人使用它来托管博客、项目官网等静态网页。但它不像 <code>GitHub Pages</code> 那样，一提交代码就能自动更新 Pages，因为 Gitee 的自动部署属于 <code>Gitee Pages Pro</code> 的服务。</p> <p>但我们可以通过 <a href="https://github.com/marketplace/actions/gitee-pages-action" target="_blank" rel="noopener noreferrer">Gitee Pages Action<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 来实现 <code>Gitee Pages</code> 的自动部署。</p> <blockquote><p>注：首次需要手动登录 Gitee ，进入项目 <code>服务</code> 下的 <code>Gitee Pages</code>，手动点击 <code>启动</code> 进行 Gitee Pages 服务的部署。</p></blockquote> <blockquote><p>没有 <code>Gitee</code> 账号的，<a href="https://gitee.com/" target="_blank" rel="noopener noreferrer">点击这里<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 先去注册。</p></blockquote> <details class="custom-block details"><summary>点击查看提示</summary> <p><code>Gitee Pages</code> 不会一提交代码就能自动更新 Pages，需要手动去更新。自动部署属于 <code>Gitee Pages Pro</code> 的服务，99/年。如果你开通了，或者你不介意自己去更新，按照下面的部署更简单。</p> <p>参考上面 <a href="#%E8%BF%9C%E7%A8%8B%E8%87%AA%E5%8A%A8%E9%83%A8%E7%BD%B2">Github Pages / 远程自动部署</a>：</p> <ul><li><p>Gitee 账号下 <code>设置/私人令牌/+生成新令牌</code> 创建 Gitee 私人令牌，配置名字为 <code>GITEE_ACCESS_TOKEN</code> 的 secrets 到 <code>github代码仓库</code> 的 <code>Settings/secrets/actions</code> 下。</p></li> <li><p><code>ci.yml</code> 中设置 <code>GITEE_TOKEN</code> 环境变量：</p></li></ul> <div class="language-yml line-numbers-mode"><div class="highlight-lines"><br><br><br><div class="highlighted"> </div><br><br><br></div><pre class="language-yml"><code><span class="token punctuation">...</span>
<span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> run deploy.sh <span class="token comment"># 步骤3</span>
  <span class="token key atrule">env</span><span class="token punctuation">:</span> <span class="token comment"># 设置环境变量</span>
    <span class="token key atrule">GITHUB_TOKEN</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span><span class="token punctuation">{</span> secrets.ACCESS_TOKEN <span class="token punctuation">}</span><span class="token punctuation">}</span>
    <span class="token key atrule">GITEE_TOKEN</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span><span class="token punctuation">{</span> secrets.GITEE_ACCESS_TOKEN <span class="token punctuation">}</span><span class="token punctuation">}</span>
  <span class="token key atrule">run</span><span class="token punctuation">:</span> yarn <span class="token important">&amp;&amp;</span> yarn deploy
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><ul><li>在 <code>deploy.sh</code> 中 <code># 退回开始所在目录 cd -</code> 之前新增：</li></ul> <div class="language-yml line-numbers-mode"><pre class="language-yml"><code><span class="token comment"># deploy to gitee</span>
<span class="token comment"># echo 'www.example.com' &gt; CNAME</span>

if <span class="token punctuation">[</span> <span class="token punctuation">-</span>z &quot;$GITEE_ACCESS_TOKEN&quot; <span class="token punctuation">]</span>; then
  giteeUrl=https<span class="token punctuation">:</span>//gitee.com/runss11/blog.git
else
  giteeUrl=https<span class="token punctuation">:</span>//runss11<span class="token punctuation">:</span>$<span class="token punctuation">{</span>GITEE_ACCESS_TOKEN<span class="token punctuation">}</span>@gitee.com/runss11/blog.git
fi
 
git add <span class="token punctuation">-</span>A
git commit <span class="token punctuation">-</span>m &quot;$<span class="token punctuation">{</span>msg<span class="token punctuation">}</span>&quot;
git push <span class="token punctuation">-</span>f $giteeUrl master <span class="token comment"># 推送到 gitee 仓库的 master 下</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div></details> <h3 id="同步并部署到gitee"><a href="#同步并部署到gitee" class="header-anchor">#</a> 同步并部署到Gitee</h3> <h4 id="新建-gitee-仓库"><a href="#新建-gitee-仓库" class="header-anchor">#</a> 新建 Gitee 仓库</h4> <p>登录<code>Gitee</code>，点击右上角 <code>+</code>，选择 <code>新建仓库</code> 新建 <code>blog</code> 仓库，跟 github 仓库一样。(由配置中的 <code>base</code> 决定)</p> <p><img src="https://cdn.staticaly.com/gh/foreverRuns/image-hosting@main/blog/giteeNewRep1.1lwefbkhfk1s.webp" alt="giteeNewRep1"></p> <h4 id="产生-ssh-key"><a href="#产生-ssh-key" class="header-anchor">#</a> 产生 SSH Key</h4> <ul><li>打开 <code>Git Bash</code> 查看是否生成过 SSH 密钥。</li></ul> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token function">ls</span> ~/.ssh <span class="token comment"># 查看是否存在 id_rsa  id_rsa.pub </span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>没有则需要产生新的 <code>SSH</code> 密钥对，<code>Git Bash</code> 输入：</li></ul> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code>ssh-keygen <span class="token parameter variable">-t</span> rsa <span class="token parameter variable">-C</span> <span class="token string">&quot;youremail@example.com&quot;</span> <span class="token comment"># 替换你绑定gitee的邮箱</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><img src="https://cdn.staticaly.com/gh/foreverRuns/image-hosting@main/blog/sshkey.236zl8kbqrhc.webp" alt="sshkey"></p> <blockquote><p>一直回车就好，不要设置密码</p></blockquote> <p>查看生成的密钥对：</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token builtin class-name">cd</span>  ~/.ssh 
<span class="token function">ls</span> <span class="token comment"># </span>
<span class="token function">cat</span> id_rsa.pub <span class="token comment"># 查看公钥数据</span>
<span class="token function">cat</span> id_rsa <span class="token comment"># 查看私钥数据</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><img src="https://cdn.staticaly.com/gh/foreverRuns/image-hosting@main/blog/sshkey1.3fndkh0kdo5c.webp" alt="sshkey1"></p> <blockquote><p>id_rsa.pub 为RSA公钥，id_rsa 为RSA私钥。非对称密钥，一个用于加密，另外一个用于解密。</p></blockquote> <h4 id="配置-ssh-key"><a href="#配置-ssh-key" class="header-anchor">#</a> 配置 SSH Key</h4> <ul><li>复制公钥 <code>id_rsa.pub</code> 数据，在 <code>Github</code> 账户的 <code>Settings/SSH and GPG keys</code> 下添加 SSH 公钥。<a href="https://github.com/settings/keys" target="_blank" rel="noopener noreferrer">点这里过去<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <p><img src="https://cdn.staticaly.com/gh/foreverRuns/image-hosting@main/blog/githubAddSSHkey.1rms4in3fwm8.webp" alt="githubAddSSHkey"></p> <ul><li>同样，在 <code>Gitee</code> 账户的 <code>设置/安全设置/SSH公钥</code> 下添加 SSH 公钥。<a href="https://gitee.com/profile/sshkeys" target="_blank" rel="noopener noreferrer">点这里过去<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <p><img src="https://cdn.staticaly.com/gh/foreverRuns/image-hosting@main/blog/giteeAddSSHkey.2qg4nxd92gow.webp" alt="giteeAddSSHkey"></p> <ul><li>测试配置是否成功</li></ul> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token function">ssh</span> <span class="token parameter variable">-T</span> git@github.com
<span class="token function">ssh</span> <span class="token parameter variable">-T</span> git@gitee.com
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><img src="https://cdn.staticaly.com/gh/foreverRuns/image-hosting@main/blog/sshkey2.n7ab447484w.webp" alt="sshkey2"></p> <h4 id="配置-github-secrets"><a href="#配置-github-secrets" class="header-anchor">#</a> 配置 Github Secrets</h4> <p>参考上面 <a href="#%E8%BF%9C%E7%A8%8B%E8%87%AA%E5%8A%A8%E9%83%A8%E7%BD%B2">Github Pages / 远程自动部署</a> 下的配置 ACCESS_TOKEN 步骤，在 <code>Github 代码仓库</code> 即 <code>vuepress-vdoing-blog 仓库</code> 的 <code>Settings/secrets/actions</code> 下配置如下 Secrets：</p> <p><img src="https://cdn.staticaly.com/gh/foreverRuns/image-hosting@main/blog/githubSecrets4.6p9tkjs8alts.webp" alt="githubSecrets4"></p> <blockquote><p><code>GITEE_PASSWORD</code> 为你的 <code>Gitee 密码</code><br> <code>SSH_RSA_PRIVATE_KEY</code> 为 <code>id_rsa</code> 私钥数据</p></blockquote> <h4 id="配置-action-脚本-2"><a href="#配置-action-脚本-2" class="header-anchor">#</a> 配置 action 脚本</h4> <p>在 <code>.github/workflows</code> 目录下新建 <code>gitee.yml</code> 脚本，脚本名字可以自定义</p> <div class="language-yml line-numbers-mode"><pre class="language-yml"><code><span class="token key atrule">name</span><span class="token punctuation">:</span> gitee

<span class="token key atrule">on</span><span class="token punctuation">:</span>
  <span class="token comment"># 在 'ci.yml' workflow 完成之后运行</span>
  <span class="token key atrule">workflow_run</span><span class="token punctuation">:</span>
    <span class="token key atrule">workflows</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>ci<span class="token punctuation">]</span>
    <span class="token key atrule">types</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> completed
  <span class="token comment"># 支持手动，方便测试 (在github仓库的 action 下对应的 action 开启了 Runs workflow 按钮)</span>
  <span class="token key atrule">workflow_dispatch</span><span class="token punctuation">:</span>

<span class="token key atrule">jobs</span><span class="token punctuation">:</span> <span class="token comment"># 工作流</span>
  <span class="token key atrule">ci-success</span><span class="token punctuation">:</span> <span class="token comment"># 自定义名称, ci.yml 运行成功时才会执行</span>
    <span class="token key atrule">runs-on</span><span class="token punctuation">:</span> ubuntu<span class="token punctuation">-</span>latest <span class="token comment"># 运行在最新的ubuntu虚拟机环境</span>
    <span class="token key atrule">if</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span><span class="token punctuation">{</span> github.event.workflow_run.conclusion == 'success' <span class="token punctuation">}</span><span class="token punctuation">}</span> <span class="token comment"># 失败时执行是 'failure'</span>
    <span class="token key atrule">steps</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Mirror To Gitee <span class="token comment"># 步骤1：将 GitHub 仓库同步到 Gitee 仓库</span>
        <span class="token key atrule">uses</span><span class="token punctuation">:</span> wearerequired/git<span class="token punctuation">-</span>mirror<span class="token punctuation">-</span>action@master
        <span class="token key atrule">env</span><span class="token punctuation">:</span>
          <span class="token key atrule">SSH_PRIVATE_KEY</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span><span class="token punctuation">{</span> secrets.SSH_RSA_PRIVATE_KEY <span class="token punctuation">}</span><span class="token punctuation">}</span> <span class="token comment"># id_rsa 私钥</span>
        <span class="token key atrule">with</span><span class="token punctuation">:</span> <span class="token comment"># source-repo 同步到 destination-repo</span>
          <span class="token key atrule">source-repo</span><span class="token punctuation">:</span> <span class="token string">'git@github.com:foreverRuns/blog.git'</span> <span class="token comment"># Github 仓库地址</span>
          <span class="token key atrule">destination-repo</span><span class="token punctuation">:</span> <span class="token string">'git@gitee.com:runss11/blog.git'</span> <span class="token comment"># Gitee 仓库地址</span>

      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Build Gitee Pages <span class="token comment"># 步骤2：自动部署到 Gitee Pages</span>
        <span class="token key atrule">uses</span><span class="token punctuation">:</span> yanglbme/gitee<span class="token punctuation">-</span>pages<span class="token punctuation">-</span>action@master
        <span class="token key atrule">with</span><span class="token punctuation">:</span>
          <span class="token comment"># Gitee 用户名</span>
          <span class="token key atrule">gitee-username</span><span class="token punctuation">:</span> RunSS11
          <span class="token comment"># 在Settings/Secrets/Actions/New repository secret/ 新建 GITEE_PASSWORD，存放你的 Gitee 帐户密码</span>
          <span class="token key atrule">gitee-password</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span><span class="token punctuation">{</span> secrets.GITEE_PASSWORD <span class="token punctuation">}</span><span class="token punctuation">}</span>
          <span class="token comment">#  Gitee 仓库地址，（地址仅需后缀，即 https://gitee.com/&lt;username&gt;/xxx 的 &lt;username&gt;/xxx 即可）</span>
          <span class="token key atrule">gitee-repo</span><span class="token punctuation">:</span> runss11/blog
          <span class="token comment"># 要部署的分支，默认是 master，若是其他分支，则需要指定（指定的分支必须存在）</span>
          <span class="token key atrule">branch</span><span class="token punctuation">:</span> gh<span class="token punctuation">-</span>pages
          <span class="token comment"># 要部署的分支上的目录</span>
          <span class="token comment"># directory:</span>
          <span class="token comment"># 是否强制使用 HTTPS, 默认true</span>
          <span class="token comment"># https: true</span>

</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br></div></div><blockquote><p>脚本中用到的 <code>secrets.SSH_RSA_PRIVATE_KEY</code> 、 <code>secrets.GITEE_PASSWORD</code> 就是上面配置的环境变量</p></blockquote> <p>先使用 <a href="https://github.com/wearerequired/git-mirror-action" target="_blank" rel="noopener noreferrer">wearerequired/git-mirror-action<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 将 GitHub 仓库同步到 Gitee 仓库，再使用 <a href="https://github.com/yanglbme/gitee-pages-action" target="_blank" rel="noopener noreferrer">yanglbme/gitee-pages-action<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 实现 Gitee Pages 的自动部署。</p> <p>如果一切配置正常，并成功触发 Gitee Pages Action ，Gitee Pages Action 会打印出成功的结果，并且我们会在 Gitee 公众号收到一条登录通知。这是 Gitee Pages Action 程序帮我们登录到 Gitee 官网，并为我们点击了仓库 Gitee Pages 服务的 <code>更新</code> 部署按钮。</p> <p>至此，我们只要在本地 <code>push</code> 代码到 github 仓库的 <code>main</code> 分支，就会在远程自动部署到 <code>Github Pages</code> 和 <code>Gitee Pages</code> 上</p> <p>部署日志：
<img src="https://cdn.staticaly.com/gh/foreverRuns/image-hosting@main/blog/githubActionLog1.246c4zxzf8lc.webp" alt="githubActionLog1"></p> <blockquote><p><strong>注意</strong>：首次需要手动登录 Gitee ，进入项目 <code>服务</code> 下的 <code>Gitee Pages</code>，手动点击 <code>启动</code> 进行 Gitee Pages 服务的部署。启动后变为 <code>更新</code> 按钮，我们通过上面的 <code>gitee-pages-action</code> 去实现后续的自动更新。</p></blockquote> <p><img src="https://cdn.staticaly.com/gh/foreverRuns/image-hosting@main/blog/giteePages.33l1vmwj9p4w.webp" alt="giteePages"></p> <h4 id="错误及解决方案"><a href="#错误及解决方案" class="header-anchor">#</a> 错误及解决方案</h4> <ol><li><code>Error: Rebuild page error, status code: xxx</code></li></ol> <blockquote><p>Gitee Pages 未初始化，第一次需要手动部署。在部署仓库的 <code>服务/Gitee Pages</code> 下，手动点击 <code>启动</code> 按钮。<br>
如果启动过，有可能是更新 Pages 时状态码异常，请尝试再次触发 Action 执行。</p></blockquote> <ol start="2"><li>其他问题自行 <a href="https://github.com/marketplace/actions/gitee-pages-action" target="_blank" rel="noopener noreferrer">查看官方文档<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，拉到最后的 <code>错误及解决方案</code>。</li></ol> <h3 id="同步项目源码到gitee"><a href="#同步项目源码到gitee" class="header-anchor">#</a> 同步项目源码到Gitee</h3> <blockquote><p>将 GitHub 上的项目源码同步到 Gitee 仓库下，如果你不需要可以跳过这一步骤。</p></blockquote> <ol><li>登录<code>Gitee</code>，点击右上角 <code>+</code>，选择 <code>新建仓库</code> 新建一个仓库用于同步项目源码，名字跟 Github 上一样</li></ol> <p><img src="https://cdn.staticaly.com/gh/foreverRuns/image-hosting@main/blog/giteeNewRep.6ycx2sy51l6o.webp" alt="giteeNewRep"></p> <ol start="2"><li>配置 Github Secrets</li></ol> <p>在 <code>Github 代码仓库</code> 即 <code>vuepress-vdoing-blog 仓库</code> 的 <code>Settings/secrets/actions</code> 下， 新建名称为 <code>SSH_RSA_PRIVATE_KEY</code> 的 secret，内容为 <code>id_rsa</code> 私钥数据。</p> <blockquote><p>由于我们在上面的 <a href="#%E5%90%8C%E6%AD%A5%E5%B9%B6%E9%83%A8%E7%BD%B2%E5%88%B0gitee">Gitee Pages / 同步并部署到Gitee</a> 下的 <code>配置 Github Secrets</code> 步骤已经配置过 <code>SSH_RSA_PRIVATE_KEY</code>，这里就不需要再配置了。</p></blockquote> <p><img src="https://cdn.staticaly.com/gh/foreverRuns/image-hosting@main/blog/githubSecrets.58y3u32lxgcg.webp" alt="githubSecrets"></p> <ol start="3"><li>修改 <code>.github/workflows/gitee.yml</code> 脚本：</li></ol> <div class="language-yml line-numbers-mode"><div class="highlight-lines"><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br></div><pre class="language-yml"><code><span class="token key atrule">name</span><span class="token punctuation">:</span> gitee

<span class="token key atrule">on</span><span class="token punctuation">:</span>
  <span class="token comment"># 在 'ci.yml' workflow 完成之后运行</span>
  <span class="token key atrule">workflow_run</span><span class="token punctuation">:</span>
    <span class="token key atrule">workflows</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>ci<span class="token punctuation">]</span>
    <span class="token key atrule">types</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> completed
  <span class="token comment"># 支持手动，方便测试 (在github仓库的 action 下对应的 action 开启了 Runs workflow 按钮)</span>
  <span class="token key atrule">workflow_dispatch</span><span class="token punctuation">:</span>

<span class="token key atrule">jobs</span><span class="token punctuation">:</span> <span class="token comment"># 工作流</span>
  <span class="token key atrule">ci-success</span><span class="token punctuation">:</span> <span class="token comment"># 自定义名称, ci.yml 运行成功时才会执行</span>
    <span class="token key atrule">runs-on</span><span class="token punctuation">:</span> ubuntu<span class="token punctuation">-</span>latest <span class="token comment"># 运行在最新的ubuntu虚拟机环境</span>
    <span class="token key atrule">if</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span><span class="token punctuation">{</span> github.event.workflow_run.conclusion == 'success' <span class="token punctuation">}</span><span class="token punctuation">}</span> <span class="token comment"># 失败时执行是 'failure'</span>
    <span class="token key atrule">steps</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Mirror To Gitee <span class="token comment"># 步骤1：将 GitHub 仓库同步到 Gitee 仓库</span>
        <span class="token key atrule">uses</span><span class="token punctuation">:</span> wearerequired/git<span class="token punctuation">-</span>mirror<span class="token punctuation">-</span>action@master
        <span class="token key atrule">env</span><span class="token punctuation">:</span>
          <span class="token key atrule">SSH_PRIVATE_KEY</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span><span class="token punctuation">{</span> secrets.SSH_RSA_PRIVATE_KEY <span class="token punctuation">}</span><span class="token punctuation">}</span> <span class="token comment"># id_rsa 私钥</span>
        <span class="token key atrule">with</span><span class="token punctuation">:</span> <span class="token comment"># source-repo 同步到 destination-repo</span>
          <span class="token key atrule">source-repo</span><span class="token punctuation">:</span> <span class="token string">'git@github.com:foreverRuns/vuepress-vdoing-blog.git'</span> <span class="token comment"># Github 仓库地址</span>
          <span class="token key atrule">destination-repo</span><span class="token punctuation">:</span> <span class="token string">'git@gitee.com:runss11/vuepress-vdoing-blog.git'</span> <span class="token comment"># Gitee 仓库地址</span>

      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Mirror To Gitee <span class="token comment"># 步骤2：将 GitHub 仓库同步到 Gitee 仓库</span>
        <span class="token key atrule">uses</span><span class="token punctuation">:</span> wearerequired/git<span class="token punctuation">-</span>mirror<span class="token punctuation">-</span>action@master
        <span class="token key atrule">env</span><span class="token punctuation">:</span>
          <span class="token key atrule">SSH_PRIVATE_KEY</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span><span class="token punctuation">{</span> secrets.SSH_RSA_PRIVATE_KEY <span class="token punctuation">}</span><span class="token punctuation">}</span> <span class="token comment"># id_rsa 私钥</span>
        <span class="token key atrule">with</span><span class="token punctuation">:</span> <span class="token comment"># source-repo 同步到 destination-repo</span>
          <span class="token key atrule">source-repo</span><span class="token punctuation">:</span> <span class="token string">'git@github.com:foreverRuns/blog.git'</span> <span class="token comment"># Github 仓库地址</span>
          <span class="token key atrule">destination-repo</span><span class="token punctuation">:</span> <span class="token string">'git@gitee.com:runss11/blog.git'</span> <span class="token comment"># Gitee 仓库地址</span>

      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Build Gitee Pages <span class="token comment"># 步骤3：自动部署到 Gitee Pages</span>
        <span class="token key atrule">uses</span><span class="token punctuation">:</span> yanglbme/gitee<span class="token punctuation">-</span>pages<span class="token punctuation">-</span>action@master
        <span class="token key atrule">with</span><span class="token punctuation">:</span>
          <span class="token comment"># Gitee 用户名</span>
          <span class="token key atrule">gitee-username</span><span class="token punctuation">:</span> RunSS11
          <span class="token comment"># 在Settings/Secrets/Actions/New repository secret/ 新建 GITEE_PASSWORD，存放你的 Gitee 帐户密码</span>
          <span class="token key atrule">gitee-password</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span><span class="token punctuation">{</span> secrets.GITEE_PASSWORD <span class="token punctuation">}</span><span class="token punctuation">}</span>
          <span class="token comment">#  Gitee 仓库地址，（地址仅需后缀，即 https://gitee.com/&lt;username&gt;/xxx 的 &lt;username&gt;/xxx 即可）</span>
          <span class="token key atrule">gitee-repo</span><span class="token punctuation">:</span> runss11/blog
          <span class="token comment"># 要部署的分支，默认是 master，若是其他分支，则需要指定（指定的分支必须存在）</span>
          <span class="token key atrule">branch</span><span class="token punctuation">:</span> gh<span class="token punctuation">-</span>pages
          <span class="token comment"># 要部署的分支上的目录</span>
          <span class="token comment"># directory:</span>
          <span class="token comment"># 是否强制使用 HTTPS, 默认true</span>
          <span class="token comment"># https: true</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br></div></div><h2 id="私密数据"><a href="#私密数据" class="header-anchor">#</a> 私密数据</h2> <blockquote><p>在本站评论的搭建中，不管是 Gitalk 的 <code>Client ID</code> 和 <code>Client secret</code>，还是 Valine 的 <code>AppID</code> 和 <code>AppKey</code>，都属于私密数据，不应该直接写在配置中。</p></blockquote> <h3 id="本地获取"><a href="#本地获取" class="header-anchor">#</a> 本地获取</h3> <ol><li><code>docs/.vuepress/config</code> 下新建 <code>secrets.js</code>，根据自己使用的评论系统配置</li></ol> <div class="language-js line-numbers-mode"><pre class="language-js"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">// gitalk</span>
  <span class="token comment">// clientID: 'Your own clientID',</span>
  <span class="token comment">// clientSecret: 'Your own clientSecret',</span>

  <span class="token comment">// valine</span>
  <span class="token literal-property property">appId</span><span class="token operator">:</span> <span class="token string">'Your own appId'</span><span class="token punctuation">,</span> <span class="token comment">// 替换为你的appId，如：kSuWQbsktacrorUwyB5jrkkW-gzGjcHsz</span>
  <span class="token literal-property property">appKey</span><span class="token operator">:</span> <span class="token string">'Your own appKey'</span><span class="token punctuation">,</span> <span class="token comment">// 替换为你的appKey，如：8vbYX017fTIKYmljkjr506P6</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><ol start="2"><li>修改插件配置 <code>docs/.vuepress/config/plugins.js</code>，根据自己使用的评论系统配置</li></ol> <div class="language-js line-numbers-mode"><div class="highlight-lines"><div class="highlighted"> </div><div class="highlighted"> </div><br><br><br><br><br><br><br><br><br><div class="highlighted"> </div><div class="highlighted"> </div><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><div class="highlighted"> </div><div class="highlighted"> </div><br><br><br><br><br><br><br><br><br><br><br><br><br><br></div><pre class="language-js"><code><span class="token comment">// const { clientID, clientSecret } = require('./secrets.js')</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> appId<span class="token punctuation">,</span> appKey <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'./secrets.js'</span><span class="token punctuation">)</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token operator">...</span><span class="token punctuation">,</span>  <span class="token comment">// 其他插件配置</span>
    <span class="token punctuation">[</span>
      <span class="token string">'vuepress-plugin-comment'</span><span class="token punctuation">,</span>
      <span class="token comment">// {</span>
      <span class="token comment">//   choosen: 'gitalk',</span>
      <span class="token comment">//   options: {</span>
      <span class="token comment">//     clientID,</span>
      <span class="token comment">//     clientSecret,</span>
      <span class="token comment">//     repo: 'gitalk-comment-blog', // GitHub 仓库</span>
      <span class="token comment">//     owner: 'foreverRuns', // GitHub仓库所有者</span>
      <span class="token comment">//     admin: ['foreverRuns'], // 对仓库有写权限的人</span>
      <span class="token comment">//     // distractionFreeMode: true,</span>
      <span class="token comment">//     pagerDirection: 'last', // 'first'正序 | 'last'倒序</span>
      <span class="token comment">//     id: '&lt;%- (frontmatter.permalink || frontmatter.to.path).slice(-16) %&gt;', //  页面的唯一标识,长度不能超过50</span>
      <span class="token comment">//     title: '「评论」&lt;%- frontmatter.title %&gt;', // GitHub issue 的标题</span>
      <span class="token comment">//     labels: ['Gitalk', 'Comment'], // GitHub issue 的标签</span>
      <span class="token comment">//     body: '页面：&lt;%- window.location.origin + (frontmatter.to.path || window.location.pathname) %&gt;', // GitHub issue 的内容</span>
      <span class="token comment">//   },</span>
      <span class="token comment">// },</span>
      <span class="token punctuation">{</span>
        <span class="token comment">// 具体参数请看官网：https://valine.js.org/</span>
        <span class="token literal-property property">choosen</span><span class="token operator">:</span> <span class="token string">'valine'</span><span class="token punctuation">,</span>
        <span class="token literal-property property">options</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">el</span><span class="token operator">:</span> <span class="token string">'#valine-vuepress-comment'</span><span class="token punctuation">,</span>
          appId<span class="token punctuation">,</span> <span class="token comment">// ES6 语法，相当于 appId: appId</span>
          appKey<span class="token punctuation">,</span>
          <span class="token literal-property property">path</span><span class="token operator">:</span> <span class="token string">'&lt;%- frontmatter.commentid || frontmatter.permalink %&gt;'</span><span class="token punctuation">,</span>
          <span class="token literal-property property">placeholder</span><span class="token operator">:</span> <span class="token string">'评论点啥 ~~~'</span><span class="token punctuation">,</span> <span class="token comment">// 评论框占位提示符</span>
          <span class="token literal-property property">avatar</span><span class="token operator">:</span> <span class="token string">'monsterid'</span><span class="token punctuation">,</span> <span class="token comment">// 小怪物头像. 目前非自定义头像有7种默认值可选: https://valine.js.org/avatar.html</span>
          <span class="token literal-property property">pageSize</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span> <span class="token comment">// 评论列表分页，每页条数</span>
          <span class="token literal-property property">visitor</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 文章访问量统计</span>
          <span class="token literal-property property">recordIP</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// 是否记录评论者 IP 地址</span>
          <span class="token literal-property property">enableQQ</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// 是否启用昵称框自动获取 QQ 昵称和 QQ 头像, 默认关闭</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br></div></div><ol start="3"><li>根目录下 <code>.gitignore</code> 文件中，忽略 <code>docs/.vuepress/config/secrets.js</code> 文件，不上传到 GitHub 仓库中</li></ol> <div class="language-js line-numbers-mode"><div class="highlight-lines"><br><br><br><br><br><div class="highlighted"> </div><br></div><pre class="language-js"><code><span class="token comment">// .gitignore</span>
node_modules
yarn<span class="token punctuation">.</span>lock
<span class="token punctuation">.</span>vscode
docs<span class="token operator">/</span><span class="token punctuation">.</span>vuepress<span class="token operator">/</span>dist
docs<span class="token operator">/</span><span class="token punctuation">.</span>vuepress<span class="token operator">/</span>config<span class="token operator">/</span>secrets<span class="token punctuation">.</span>js
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><blockquote><p>至此，本地运行 <code>yarn dev</code>，或者本地手动部署 <code>yarn deploy</code> 时，私密数据从 <code>secrets.js</code> 中获取。由于该文件只存在于本地中，不会上传到远程仓库中，不会泄露比较安全。</p></blockquote> <h3 id="远程获取"><a href="#远程获取" class="header-anchor">#</a> 远程获取</h3> <ol start="4"><li><code>Github Actions</code> 自动部署时，由于不存在 <code>secrets.js</code>，在 Github 服务器构建打包时会出错，我们需要在打包之前动态生成 <code>secrets.js</code> 配置文件</li></ol> <ul><li>将 Gitalk 的 <code>Client ID</code>、<code>Client secret</code>，或者 Valine 的 <code>AppID</code>、<code>AppKey</code> 配置到 Github 代码仓库中的 <code>Secrets</code> 下，根据自己使用的评论系统配置。</li></ul> <p><img src="https://cdn.staticaly.com/gh/foreverRuns/image-hosting@main/blog/githubSecrets3.4ryn80wshiww.webp" alt="githubSecrets3"></p> <ul><li>修改 <code>.github/workflows/ci.yml</code> 文件，新增设置私密数据环境变量</li></ul> <div class="language-yml line-numbers-mode"><div class="highlight-lines"><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><div class="highlighted"> </div><div class="highlighted"> </div><br><br><br><br><br><br></div><pre class="language-yml"><code><span class="token key atrule">name</span><span class="token punctuation">:</span> CI

<span class="token comment"># 触发条件</span>
<span class="token key atrule">on</span><span class="token punctuation">:</span>
  <span class="token comment"># 在master分支发生push事件时触发。</span>
  <span class="token key atrule">push</span><span class="token punctuation">:</span>
    <span class="token key atrule">branches</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> main
      <span class="token punctuation">-</span> mater
  <span class="token comment"># 支持手动，方便测试 (在github仓库的action下对应的action开启了Runs workflow 按钮)</span>
  <span class="token key atrule">workflow_dispatch</span><span class="token punctuation">:</span>

<span class="token key atrule">env</span><span class="token punctuation">:</span> <span class="token comment"># 设置环境变量</span>
  <span class="token key atrule">TZ</span><span class="token punctuation">:</span> Asia/Shanghai <span class="token comment"># 时区（设置时区可使页面中的`最近更新时间`使用时区时间）</span>

<span class="token key atrule">jobs</span><span class="token punctuation">:</span> <span class="token comment"># 工作流</span>
  <span class="token key atrule">build</span><span class="token punctuation">:</span> <span class="token comment"># 自定义名称</span>
    <span class="token key atrule">runs-on</span><span class="token punctuation">:</span> ubuntu<span class="token punctuation">-</span>latest <span class="token comment"># 运行在最新的ubuntu虚拟机环境</span>

    <span class="token key atrule">strategy</span><span class="token punctuation">:</span>
      <span class="token key atrule">matrix</span><span class="token punctuation">:</span>
        <span class="token key atrule">node-version</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>14.x<span class="token punctuation">]</span>

    <span class="token key atrule">steps</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Checkout <span class="token comment"># 步骤1 拉取代码</span>
        <span class="token key atrule">uses</span><span class="token punctuation">:</span> actions/checkout@v2 <span class="token comment"># 使用的动作。格式：userName/repoName。作用：检出仓库，获取源码。 官方actions库：https://github.com/actions</span>
        <span class="token key atrule">with</span><span class="token punctuation">:</span>
          <span class="token comment"># Number of commits to fetch. 0 indicates all history for all branches and tags.</span>
          <span class="token comment"># Default: 1</span>
          <span class="token key atrule">fetch-depth</span><span class="token punctuation">:</span> <span class="token number">0</span> <span class="token comment"># 0 表示获取所有分支和标签的所有 Commit 记录。 (文章底部的 `最近更新时间` 对应该文章的 commit 提交时间，没有设置这个会出现问题)</span>

      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> Use Node.js $<span class="token punctuation">{</span><span class="token punctuation">{</span> matrix.node<span class="token punctuation">-</span>version <span class="token punctuation">}</span><span class="token punctuation">}</span> <span class="token comment"># 步骤2</span>
        <span class="token key atrule">uses</span><span class="token punctuation">:</span> actions/setup<span class="token punctuation">-</span>node@v1 <span class="token comment"># 作用：安装nodejs</span>
        <span class="token key atrule">with</span><span class="token punctuation">:</span>
          <span class="token key atrule">node-version</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span><span class="token punctuation">{</span> matrix.node<span class="token punctuation">-</span>version <span class="token punctuation">}</span><span class="token punctuation">}</span> <span class="token comment"># 版本</span>

      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> run deploy.sh <span class="token comment"># 步骤3</span>
        <span class="token key atrule">env</span><span class="token punctuation">:</span> <span class="token comment"># 设置环境变量</span>
          <span class="token key atrule">GITHUB_TOKEN</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span><span class="token punctuation">{</span> secrets.ACCESS_TOKEN <span class="token punctuation">}</span><span class="token punctuation">}</span> <span class="token comment"># toKen私密变量 (在 仓库/Settings/Secrets/Actions/ 下， New repository secret 创建)</span>
          <span class="token key atrule">VALINE_APPID</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span><span class="token punctuation">{</span> secrets.VALINE_APPID <span class="token punctuation">}</span><span class="token punctuation">}</span>
          <span class="token key atrule">VALINE_APPKEY</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span><span class="token punctuation">{</span> secrets.VALINE_APPKEY <span class="token punctuation">}</span><span class="token punctuation">}</span>
        <span class="token key atrule">run</span><span class="token punctuation">:</span> yarn <span class="token important">&amp;&amp;</span> yarn deploy <span class="token comment"># 安装依赖，执行deploy.sh</span>
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br></div></div><ol start="5"><li>修改根目录的部署脚本 <code>deploy.sh</code>，新增在 <code>Github Actions</code> 自动部署时动态生成 <code>secrets.js</code> 私密数据文件</li></ol> <div class="language-sh line-numbers-mode"><div class="highlight-lines"><br><br><br><br><br><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><div class="highlighted"> </div><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br></div><pre class="language-sh"><code><span class="token shebang important">#!/usr/bin/env sh</span>

<span class="token comment"># 确保脚本抛出遇到的错误</span>
<span class="token builtin class-name">set</span> <span class="token parameter variable">-e</span>

<span class="token comment"># 如果是 github action 自动部署，动态生成 secret.js</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token string">&quot;<span class="token variable">$GITHUB_TOKEN</span>&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
  <span class="token builtin class-name">echo</span> <span class="token string">&quot;module.exports = {
    // clientID: '<span class="token variable">${GITALK_CLIENTID}</span>',
    // clientSecret: '<span class="token variable">${GITALK_CLIENTSECRET}</span>',
    appId: '<span class="token variable">${VALINE_APPID}</span>',
    appKey: '<span class="token variable">${VALINE_APPKEY}</span>'
  }&quot;</span> <span class="token operator">&gt;</span> docs/.vuepress/config/secrets.js
<span class="token keyword">fi</span>

<span class="token comment"># 生成静态文件</span>
<span class="token function">yarn</span> build

<span class="token comment"># 进入生成的文件夹</span>
<span class="token builtin class-name">cd</span> docs/.vuepress/dist

<span class="token comment"># 如果发布到自定义域名，请使用，不填则使用 GitHub 自带的 &lt;username&gt;.github.io</span>
<span class="token comment"># echo 'www.example.com' &gt; CNAME</span>

<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token parameter variable">-z</span> <span class="token string">&quot;<span class="token variable">$GITHUB_TOKEN</span>&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span>
  <span class="token assign-left variable">msg</span><span class="token operator">=</span><span class="token string">'本地手动部署'</span>  <span class="token comment"># 本地 yarn deploy</span>
  <span class="token assign-left variable">githubUrl</span><span class="token operator">=</span>https://github.com/foreverRuns/blog
<span class="token keyword">else</span>
  <span class="token assign-left variable">msg</span><span class="token operator">=</span><span class="token string">'GitHub Actions 自动部署'</span>
  <span class="token assign-left variable">githubUrl</span><span class="token operator">=</span>https://foreverRuns:<span class="token variable">${GITHUB_TOKEN}</span>@github.com/foreverRuns/blog.git
  <span class="token comment"># Omit --global to set the identity only in this repository.</span>
  <span class="token function">git</span> config <span class="token parameter variable">--global</span> user.name <span class="token string">&quot;foreverRuns&quot;</span>
  <span class="token function">git</span> config <span class="token parameter variable">--global</span> user.email <span class="token string">&quot;894xxxx40@qq.com&quot;</span>
<span class="token keyword">fi</span>
<span class="token function">git</span> init 
<span class="token function">git</span> <span class="token function">add</span> <span class="token parameter variable">-A</span>
<span class="token function">git</span> commit <span class="token parameter variable">-m</span> <span class="token string">&quot;<span class="token variable">${msg}</span>&quot;</span>
<span class="token function">git</span> push <span class="token parameter variable">-f</span> <span class="token variable">$githubUrl</span> master:gh-pages <span class="token comment"># 将 master 分支 推送到 blog 仓库下的 gh-pages分支</span>

<span class="token comment"># 退回开始所在目录</span>
<span class="token builtin class-name">cd</span> -
<span class="token comment"># 删除打包项目</span>
<span class="token function">rm</span> <span class="token parameter variable">-rf</span> docs/.vuepress/dist
</code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br></div></div><blockquote><p>至此，在本地运行 <code>yarn dev</code>，或者本地手动部署 <code>yarn deploy</code> 时，私密数据从 <code>secrets.js</code> 中获取，在远程 <code>Github Actions</code> 自动部署时，私密数据是从环境变量中获取的，从而保证了私密数据的安全性。</p></blockquote> <h2 id="自定义域名"><a href="#自定义域名" class="header-anchor">#</a> 自定义域名</h2> <h3 id="申请域名"><a href="#申请域名" class="header-anchor">#</a> 申请域名</h3> <p>申请域名可以去阿里云，腾讯云等，下面以腾讯云为例：</p> <ul><li><p>前往 <a href="https://dnspod.cloud.tencent.com/" target="_blank" rel="noopener noreferrer">腾讯云域名注册<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，搜索并找到你想要可用的域名，然后👉买它。</p></li> <li><p>进入 <a href="https://console.cloud.tencent.com/domain" target="_blank" rel="noopener noreferrer">控制台/产品监控/域名管理<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，域名列表中选择刚才的域名解析：</p></li></ul> <p><img src="https://cdn.staticaly.com/gh/foreverRuns/image-hosting@main/blog/ymjx.4ngrq97u5hc0.webp" alt="ymjx"></p> <ul><li>进入域名解析页面，点击 <code>添加记录</code> 添加解析记录。</li></ul> <ol><li>主机记录：<code>@</code>，表示直接解析主域名 <code>runss.top</code>，选择 <code>www</code> 就是 <code>www.runss.top</code></li> <li>记录类型：<code>CNAME</code>，表示将域名指向另一个域名地址，与其保持相同解析，如 https://www.dnspod.cn，选择 <code>A</code> 就是将域名指向一个 IPv4 地址</li> <li>解析线路：<code>默认</code></li> <li>记录值：若选择 <code>CNAME</code>，则在此填写要指向的域名地址，如你的 Github Pages 地址：<code>userName.github.io</code>，不包括仓库名称；若选择 <code>A</code>，则在此填写服务器 IP 地址</li> <li>权重：<code>空着</code>，表示负载均衡权重默认为均等负载</li> <li>TTL：<code>600</code>，默认值即可</li> <li>确定</li></ol> <p><img src="https://cdn.staticaly.com/gh/foreverRuns/image-hosting@main/blog/ymjx1.6zzhc0a508c.webp" alt="ymjx1"></p> <ul><li>申请SSL证书</li></ul> <p>记录添加成功后，在记录的 <code>SSL</code> 选项悬浮鼠标，选择 <code>免费申请</code>，然后选择 <code>个人用户版本</code> 免费申请。</p> <p><img src="https://cdn.staticaly.com/gh/foreverRuns/image-hosting@main/blog/ymjx2.3ryka5r5a41s.webp" alt="ymjx2"></p> <p>提交申请之后腾讯云会自动帮你添加一条解析记录，等一会就会审核通过。</p> <h3 id="github-pages-自定义域名"><a href="#github-pages-自定义域名" class="header-anchor">#</a> GitHub Pages 自定义域名</h3> <ul><li><p><code>CNAME</code> 记录应该始终指向 <code>&lt;user&gt;.github.io</code> 或 <code>&lt;organization&gt;.github.io</code>，不包括仓库名称。</p></li> <li><p>在配置 <code>用户或组织站点</code> 的自定义域后，<code>自定义域名</code> 将替换该账户下所有开通 Pages 但 <code>未配置自定义域</code> 网站 URL 的 <code>&lt;user&gt;.github.io</code> 或 <code>&lt;organization&gt;.github.io</code> 部分。<br>
例如，你的 <code>用户站点</code> 的自定义域名为 <code>www.example.com</code>，并且你拥有一个 <code>未自定义域名</code>的 <code>项目网站</code>，该网站从名为 <code>blog</code> 的仓库发布，
则该仓库的 GitHub Pages 网站将在 <code>www.example.com/blog</code> 上发布。</p></li> <li><p>更详细的说明 <a href="https://docs.github.com/en/pages/configuring-a-custom-domain-for-your-github-pages-site/about-custom-domains-and-github-pages" target="_blank" rel="noopener noreferrer">看这里<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></li></ul> <div class="custom-block tip"><p class="custom-block-title">提示</p> <p><code>用户站点</code>：指的是名为 <code>&lt;username&gt;.github.io</code> 的用户仓库</p></div> <p>基于上面的说明：</p> <details class="custom-block details"><summary>点击查看</summary> <ul><li><p>如果你直接在部署仓库 <code>blog</code> 下配置自定义域 <code>www.example.com</code>，然后直接通过 <code>www.example.com</code> 访问，在这里样式会出现问题，需要在 <code>docs/.vuepress/config.js</code> 中将 <code>base</code> 配置为 <code>'/'</code>，才可正常访问。但是这样访问之前的 <code>https://&lt;username&gt;.github.io/blog</code> 和 <code>https://&lt;username&gt;.gitee.io/blog</code> 会出样式问题。</p></li> <li><p>如果你创建过用户站点，即存在 <code>&lt;username&gt;.github.io</code> 的用户仓库，那么你可以直接为这个仓库配置自定义域 <code>www.example.com</code>，那么你就能通过 <code>www.example.com/blog</code> 正常访问到你的博客网站了。</p></li></ul></details> <ol><li>修改部署仓库 <code>blog</code> 为 <code>&lt;username&gt;.github.io</code>，即改成用户站点。</li> <li>在项目根目录下的 <code>deploy.sh</code> 脚本，配置自定义域。</li></ol> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token builtin class-name">echo</span> <span class="token string">'runss.top'</span> <span class="token operator">&gt;</span> CNAME <span class="token comment"># // 域名替换成你的</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ol start="3"><li><code>docs/.vuepress/config.js</code> 中，将 <code>base</code> 屏蔽或者配置为 <code>'/'</code>。</li></ol> <p>提交代码部署成功后就可以通过自定义域名访问了。 本站：<a href="https://runss.top" target="_blank" rel="noopener noreferrer">https://runss.top<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a><br>
并且可以通过 <code>自定义域名/仓库名称</code> 来访问该账户下所有开通 Pages 但 <code>未配置自定义域</code> 的站点。 如：<a href="https://runss.top/vip" target="_blank" rel="noopener noreferrer">https://runss.top/vip<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <div class="custom-block tip"><p class="custom-block-title">提示</p> <p>配置自定义域时，如果是在 Github 仓库下手动配置：<br> <img src="https://cdn.staticaly.com/gh/foreverRuns/image-hosting@main/blog/githubPages.2sboby3bz3k0.webp" alt="githubPages">
其实也是在仓库下生成 <code>CNAME</code> 文件，如果 <code>deploy.sh</code> 脚本不自动生成 <code>CNAME</code> 文件，下次自动部署强制推送就会把仓库配置的 <code>CNAME</code> 文件删除了，所以自定义域会失效。</p></div> <details class="custom-block details"><summary>点击查看</summary> <p>配置 <code>@</code> 和 <code>www</code> 两个解析记录：</p> <p><img src="https://cdn.staticaly.com/gh/foreverRuns/image-hosting@main/blog/ymjx3.406uaoymea0w.webp" alt="ymjx3"></p> <p>然后自定义域配置为 <code>wwww</code> 记录:</p> <div class="language-sh line-numbers-mode"><pre class="language-sh"><code><span class="token builtin class-name">echo</span> <span class="token string">'www.runss.top'</span> <span class="token operator">&gt;</span> CNAME <span class="token comment"># // 域名替换成你的</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div> <p>那么访问 <a href="https://runss.top" target="_blank" rel="noopener noreferrer">https://runss.top<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 就会被重定向到 <a href="https://www.runss.top" target="_blank" rel="noopener noreferrer">https://www.runss.top<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>，两者都可以访问到本站。</p></details> <p>由于更改了 <code>base</code>，那么之前部署到 Gitee 的仓库地址也需要修改，否则会出现样式丢失问题。</p> <p><img src="https://cdn.staticaly.com/gh/foreverRuns/image-hosting@main/blog/giteeName.244kc164sqtc.webp" alt="giteeName"></p> <p>这样就可以通过 <code>https://&lt;username&gt;.gitee.io</code> 正常访问了，本站：<a href="https://runss11.gitee.io" target="_blank" rel="noopener noreferrer">https://runss11.gitee.io<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <blockquote><p>修改了 Gitee 部署仓库地址也要记得修改 <code>gitee.yml</code> 中的地址</p></blockquote> <h3 id="gitee-pages-自定义域名"><a href="#gitee-pages-自定义域名" class="header-anchor">#</a> Gitee Pages 自定义域名</h3> <p>Gitee Pages 自定义域名功能需要开通 <code>Gitee Pages Pro</code> 才支持，具体看 <a href="https://gitee.com/help/articles/4228" target="_blank" rel="noopener noreferrer">官方文档<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>。</p> <h2 id="seo-优化"><a href="#seo-优化" class="header-anchor">#</a> SEO 优化</h2> <p><a href="https://cloud.tencent.com/developer/article/1777576" target="_blank" rel="noopener noreferrer">参考这里<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h3 id="百度推送"><a href="#百度推送" class="header-anchor">#</a> 百度推送</h3> <ul><li><p>前往 <a href="https://ziyuan.baidu.com/" target="_blank" rel="noopener noreferrer">百度搜索资源平台/原百度站长<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></li> <li><p>添加站点，然后验证，百度提供了三种验证方式，本站使用 <code>CNAME</code> 解析验证</p></li></ul> <p><img src="https://cdn.staticaly.com/gh/foreverRuns/image-hosting@main/blog/baidu.78g91b677ls0.webp" alt="baidu"></p> <ul><li>验证通过后在 <code>普通收录/资源提交/API提交/curl推送示例</code> 下获取命令</li></ul> <p><img src="https://cdn.staticaly.com/gh/foreverRuns/image-hosting@main/blog/baidu1.4hsk0gsnm000.webp" alt="baidu1"></p> <ul><li>然后 <a href="https://xugaoyi.com/pages/f44d2f9ad04ab8d3/" target="_blank" rel="noopener noreferrer">看这里<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----> <div class="page-edit"><div class="edit-link"><a href="https://github.com/foreverRuns/vuepress-vdoing-blog/edit/main/docs/03.项目/01.本站开发/06.本站部署.md" target="_blank" rel="noopener noreferrer">编辑此页</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="tags"><a href="/tags/?tag=%E6%9C%AC%E7%AB%99" title="标签">#本站</a><a href="/tags/?tag=VuePress" title="标签">#VuePress</a><a href="/tags/?tag=GitHub" title="标签">#GitHub</a></div> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">2023/02/02, 14:58:40</span></div></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><a href="/pages/aee78b/" class="page-nav-centre page-nav-centre-prev"><div class="tooltip">本站评论</div></a> <a href="/pages/7d0e93/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">本站管理</div></a></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/pages/aee78b/" class="prev">本站评论</a></span> <span class="next"><a href="/pages/7d0e93/">本站管理</a>→
      </span></p></div></div></div> <div class="article-list"><div class="article-title"><a href="/archives/" class="iconfont icon-bi">最近更新</a></div> <div class="article-wrapper"><dl><dd>01</dd> <dt><a href="/pages/73239f/"><div>
            Mac下openssl升级
            <!----></div></a> <span class="date">03-01</span></dt></dl><dl><dd>02</dd> <dt><a href="/pages/a4dda1/"><div>
            openssl证书基本操作
            <!----></div></a> <span class="date">02-20</span></dt></dl><dl><dd>03</dd> <dt><a href="/pages/ba3915/"><div>
            flex入门教程
            <!----></div></a> <span class="date">02-06</span></dt></dl> <dl><dd></dd> <dt><a href="/archives/" class="more">更多文章&gt;</a></dt></dl></div></div></main></div> <div class="footer"><div class="icons"><a href="mailto:894985240@qq.com" title="发邮件" target="_blank" class="iconfont icon-youjian"></a><a href="https://github.com/foreverRuns" title="GitHub" target="_blank" class="iconfont icon-github"></a><a href="https://music.163.com/#/playlist?id=755597173" title="听音乐" target="_blank" class="iconfont icon-erji"></a></div> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="本站主题">Vdoing</a> 
    | Copyright © 2022-2023
    <span>RunsZ | <a href="https://vuepress.vuejs.org/zh/" target="_blank">VuePress</a></span></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          跟随系统
        </li><li class="iconfont icon-rijianmoshi">
          浅色模式
        </li><li class="iconfont icon-yejianmoshi">
          深色模式
        </li><li class="iconfont icon-yuedu">
          阅读模式
        </li></ul></div></div> <div class="body-bg" style="background:url() center center / cover no-repeat;opacity:0.5;"></div> <!----> <!----></div><div class="global-ui"><div></div></div></div>
    <script src="/assets/js/app.01422d5c.js" defer></script><script src="/assets/js/3.ea26aac2.js" defer></script><script src="/assets/js/5.5f790703.js" defer></script><script src="/assets/js/177.42363978.js" defer></script>
  </body>
</html>
